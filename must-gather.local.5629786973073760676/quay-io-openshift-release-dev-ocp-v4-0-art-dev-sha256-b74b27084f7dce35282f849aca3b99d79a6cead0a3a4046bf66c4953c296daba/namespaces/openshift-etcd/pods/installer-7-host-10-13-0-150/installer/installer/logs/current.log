2025-03-31T20:29:11.180528837Z I0331 20:29:11.088923       1 cmd.go:92] &{<nil> true {false} installer true map[cert-configmaps:0xc0005dcf00 cert-dir:0xc0005dd0e0 cert-secrets:0xc0005dce60 configmaps:0xc0005dca00 namespace:0xc0005dc820 pod:0xc0005dc8c0 pod-manifest-dir:0xc0005dcc80 resource-dir:0xc0005dcbe0 revision:0xc0005dc780 secrets:0xc0005dc960 v:0xc000149a40] [0xc000149a40 0xc0005dc780 0xc0005dc820 0xc0005dc8c0 0xc0005dcbe0 0xc0005dcc80 0xc0005dca00 0xc0005dc960 0xc0005dd0e0 0xc0005dcf00 0xc0005dce60] [] map[cert-configmaps:0xc0005dcf00 cert-dir:0xc0005dd0e0 cert-secrets:0xc0005dce60 configmaps:0xc0005dca00 help:0xc0005f4500 kubeconfig:0xc0005dc6e0 log-flush-frequency:0xc0001499a0 namespace:0xc0005dc820 optional-cert-configmaps:0xc0005dd040 optional-cert-secrets:0xc0005dcfa0 optional-configmaps:0xc0005dcb40 optional-secrets:0xc0005dcaa0 pod:0xc0005dc8c0 pod-manifest-dir:0xc0005dcc80 pod-manifests-lock-file:0xc0005dcdc0 resource-dir:0xc0005dcbe0 revision:0xc0005dc780 secrets:0xc0005dc960 timeout-duration:0xc0005dcd20 v:0xc000149a40 vmodule:0xc000149ae0] [0xc0005dc6e0 0xc0005dc780 0xc0005dc820 0xc0005dc8c0 0xc0005dc960 0xc0005dca00 0xc0005dcaa0 0xc0005dcb40 0xc0005dcbe0 0xc0005dcc80 0xc0005dcd20 0xc0005dcdc0 0xc0005dce60 0xc0005dcf00 0xc0005dcfa0 0xc0005dd040 0xc0005dd0e0 0xc0001499a0 0xc000149a40 0xc000149ae0 0xc0005f4500] [0xc0005dcf00 0xc0005dd0e0 0xc0005dce60 0xc0005dca00 0xc0005f4500 0xc0005dc6e0 0xc0001499a0 0xc0005dc820 0xc0005dd040 0xc0005dcfa0 0xc0005dcb40 0xc0005dcaa0 0xc0005dc8c0 0xc0005dcc80 0xc0005dcdc0 0xc0005dcbe0 0xc0005dc780 0xc0005dc960 0xc0005dcd20 0xc000149a40 0xc000149ae0] map[104:0xc0005f4500 118:0xc000149a40] [] -1 0 0xc0005a3c50 true <nil> []}
2025-03-31T20:29:11.180528837Z I0331 20:29:11.089096       1 cmd.go:93] (*installerpod.InstallOptions)(0xc00062d860)({
2025-03-31T20:29:11.180528837Z  KubeConfig: (string) "",
2025-03-31T20:29:11.180528837Z  KubeClient: (kubernetes.Interface) <nil>,
2025-03-31T20:29:11.180528837Z  Revision: (string) (len=1) "7",
2025-03-31T20:29:11.180528837Z  NodeName: (string) "",
2025-03-31T20:29:11.180528837Z  Namespace: (string) (len=14) "openshift-etcd",
2025-03-31T20:29:11.180528837Z  PodConfigMapNamePrefix: (string) (len=8) "etcd-pod",
2025-03-31T20:29:11.180528837Z  SecretNamePrefixes: ([]string) (len=1 cap=1) {
2025-03-31T20:29:11.180528837Z   (string) (len=14) "etcd-all-certs"
2025-03-31T20:29:11.180528837Z  },
2025-03-31T20:29:11.180528837Z  OptionalSecretNamePrefixes: ([]string) <nil>,
2025-03-31T20:29:11.180528837Z  ConfigMapNamePrefixes: ([]string) (len=6 cap=8) {
2025-03-31T20:29:11.180528837Z   (string) (len=8) "etcd-pod",
2025-03-31T20:29:11.180528837Z   (string) (len=15) "etcd-serving-ca",
2025-03-31T20:29:11.180528837Z   (string) (len=19) "etcd-peer-client-ca",
2025-03-31T20:29:11.180528837Z   (string) (len=29) "etcd-metrics-proxy-serving-ca",
2025-03-31T20:29:11.180528837Z   (string) (len=28) "etcd-metrics-proxy-client-ca",
2025-03-31T20:29:11.180528837Z   (string) (len=14) "etcd-endpoints"
2025-03-31T20:29:11.180528837Z  },
2025-03-31T20:29:11.180528837Z  OptionalConfigMapNamePrefixes: ([]string) <nil>,
2025-03-31T20:29:11.180528837Z  CertSecretNames: ([]string) (len=1 cap=1) {
2025-03-31T20:29:11.180528837Z   (string) (len=14) "etcd-all-certs"
2025-03-31T20:29:11.180528837Z  },
2025-03-31T20:29:11.180528837Z  OptionalCertSecretNamePrefixes: ([]string) <nil>,
2025-03-31T20:29:11.180528837Z  CertConfigMapNamePrefixes: ([]string) (len=6 cap=8) {
2025-03-31T20:29:11.180528837Z   (string) (len=16) "restore-etcd-pod",
2025-03-31T20:29:11.180528837Z   (string) (len=12) "etcd-scripts",
2025-03-31T20:29:11.180528837Z   (string) (len=15) "etcd-serving-ca",
2025-03-31T20:29:11.180528837Z   (string) (len=19) "etcd-peer-client-ca",
2025-03-31T20:29:11.180528837Z   (string) (len=29) "etcd-metrics-proxy-serving-ca",
2025-03-31T20:29:11.180528837Z   (string) (len=28) "etcd-metrics-proxy-client-ca"
2025-03-31T20:29:11.180528837Z  },
2025-03-31T20:29:11.180528837Z  OptionalCertConfigMapNamePrefixes: ([]string) <nil>,
2025-03-31T20:29:11.180528837Z  CertDir: (string) (len=47) "/etc/kubernetes/static-pod-resources/etcd-certs",
2025-03-31T20:29:11.180528837Z  ResourceDir: (string) (len=36) "/etc/kubernetes/static-pod-resources",
2025-03-31T20:29:11.180528837Z  PodManifestDir: (string) (len=25) "/etc/kubernetes/manifests",
2025-03-31T20:29:11.180528837Z  Timeout: (time.Duration) 2m0s,
2025-03-31T20:29:11.180528837Z  StaticPodManifestsLockFile: (string) "",
2025-03-31T20:29:11.180528837Z  PodMutationFns: ([]installerpod.PodMutationFunc) <nil>,
2025-03-31T20:29:11.180528837Z  KubeletVersion: (string) ""
2025-03-31T20:29:11.180528837Z })
2025-03-31T20:29:11.180528837Z I0331 20:29:11.090003       1 cmd.go:410] Getting controller reference for node host-10-13-0-150
2025-03-31T20:29:11.180528837Z I0331 20:29:11.102026       1 cmd.go:423] Waiting for installer revisions to settle for node host-10-13-0-150
2025-03-31T20:29:11.180528837Z I0331 20:29:11.105811       1 cmd.go:503] Pod container: installer state for node host-10-13-0-150 is not terminated, waiting
2025-03-31T20:29:21.110369263Z I0331 20:29:21.110314       1 cmd.go:503] Pod container: installer state for node host-10-13-0-150 is not terminated, waiting
2025-03-31T20:29:31.109571588Z I0331 20:29:31.109534       1 cmd.go:515] Waiting additional period after revisions have settled for node host-10-13-0-150
2025-03-31T20:30:01.110226252Z I0331 20:30:01.110190       1 cmd.go:521] Getting installer pods for node host-10-13-0-150
2025-03-31T20:30:01.113712086Z I0331 20:30:01.113693       1 cmd.go:539] Latest installer revision for node host-10-13-0-150 is: 7
2025-03-31T20:30:01.113754035Z I0331 20:30:01.113745       1 cmd.go:428] Querying kubelet version for node host-10-13-0-150
2025-03-31T20:30:01.115255497Z I0331 20:30:01.115234       1 cmd.go:441] Got kubelet version 1.28.15+ff493be on target node host-10-13-0-150
2025-03-31T20:30:01.115255497Z I0331 20:30:01.115250       1 cmd.go:290] Creating target resource directory "/etc/kubernetes/static-pod-resources/etcd-pod-7" ...
2025-03-31T20:30:01.115350444Z I0331 20:30:01.115338       1 cmd.go:218] Creating target resource directory "/etc/kubernetes/static-pod-resources/etcd-pod-7" ...
2025-03-31T20:30:01.115350444Z I0331 20:30:01.115347       1 cmd.go:226] Getting secrets ...
2025-03-31T20:30:01.116801807Z I0331 20:30:01.116787       1 copy.go:32] Got secret openshift-etcd/etcd-all-certs-7
2025-03-31T20:30:01.116922385Z I0331 20:30:01.116913       1 cmd.go:239] Getting config maps ...
2025-03-31T20:30:01.119002166Z I0331 20:30:01.118980       1 copy.go:60] Got configMap openshift-etcd/etcd-endpoints-7
2025-03-31T20:30:01.120203343Z I0331 20:30:01.120179       1 copy.go:60] Got configMap openshift-etcd/etcd-metrics-proxy-client-ca-7
2025-03-31T20:30:01.121339860Z I0331 20:30:01.121320       1 copy.go:60] Got configMap openshift-etcd/etcd-metrics-proxy-serving-ca-7
2025-03-31T20:30:01.122540218Z I0331 20:30:01.122525       1 copy.go:60] Got configMap openshift-etcd/etcd-peer-client-ca-7
2025-03-31T20:30:01.123835124Z I0331 20:30:01.123810       1 copy.go:60] Got configMap openshift-etcd/etcd-pod-7
2025-03-31T20:30:01.124925542Z I0331 20:30:01.124908       1 copy.go:60] Got configMap openshift-etcd/etcd-serving-ca-7
2025-03-31T20:30:01.124958801Z I0331 20:30:01.124949       1 cmd.go:258] Creating directory "/etc/kubernetes/static-pod-resources/etcd-pod-7/secrets/etcd-all-certs" ...
2025-03-31T20:30:01.125137348Z I0331 20:30:01.125126       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-7/secrets/etcd-all-certs/etcd-peer-host-10-13-2-89.key" ...
2025-03-31T20:30:01.125240586Z I0331 20:30:01.125230       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-7/secrets/etcd-all-certs/etcd-serving-host-10-13-0-150.key" ...
2025-03-31T20:30:01.125323065Z I0331 20:30:01.125312       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-7/secrets/etcd-all-certs/etcd-peer-host-10-13-2-160.crt" ...
2025-03-31T20:30:01.125395134Z I0331 20:30:01.125385       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-7/secrets/etcd-all-certs/etcd-peer-host-10-13-0-150.crt" ...
2025-03-31T20:30:01.125495141Z I0331 20:30:01.125484       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-7/secrets/etcd-all-certs/etcd-peer-host-10-13-2-89.crt" ...
2025-03-31T20:30:01.125582171Z I0331 20:30:01.125572       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-7/secrets/etcd-all-certs/etcd-serving-host-10-13-2-89.key" ...
2025-03-31T20:30:01.125655429Z I0331 20:30:01.125646       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-7/secrets/etcd-all-certs/etcd-serving-metrics-host-10-13-0-150.key" ...
2025-03-31T20:30:01.125743727Z I0331 20:30:01.125733       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-7/secrets/etcd-all-certs/etcd-serving-host-10-13-2-160.key" ...
2025-03-31T20:30:01.125815365Z I0331 20:30:01.125806       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-7/secrets/etcd-all-certs/etcd-serving-metrics-host-10-13-2-160.crt" ...
2025-03-31T20:30:01.125902494Z I0331 20:30:01.125892       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-7/secrets/etcd-all-certs/etcd-serving-metrics-host-10-13-2-89.crt" ...
2025-03-31T20:30:01.125987292Z I0331 20:30:01.125977       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-7/secrets/etcd-all-certs/etcd-peer-host-10-13-2-160.key" ...
2025-03-31T20:30:01.126059761Z I0331 20:30:01.126050       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-7/secrets/etcd-all-certs/etcd-serving-host-10-13-0-150.crt" ...
2025-03-31T20:30:01.126130389Z I0331 20:30:01.126121       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-7/secrets/etcd-all-certs/etcd-serving-host-10-13-2-160.crt" ...
2025-03-31T20:30:01.126201739Z I0331 20:30:01.126192       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-7/secrets/etcd-all-certs/etcd-peer-host-10-13-0-150.key" ...
2025-03-31T20:30:01.126273567Z I0331 20:30:01.126264       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-7/secrets/etcd-all-certs/etcd-serving-host-10-13-2-89.crt" ...
2025-03-31T20:30:01.126350025Z I0331 20:30:01.126340       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-7/secrets/etcd-all-certs/etcd-serving-metrics-host-10-13-0-150.crt" ...
2025-03-31T20:30:01.126421064Z I0331 20:30:01.126412       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-7/secrets/etcd-all-certs/etcd-serving-metrics-host-10-13-2-89.key" ...
2025-03-31T20:30:01.126491353Z I0331 20:30:01.126482       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-7/secrets/etcd-all-certs/etcd-serving-metrics-host-10-13-2-160.key" ...
2025-03-31T20:30:01.126569281Z I0331 20:30:01.126560       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/etcd-pod-7/configmaps/etcd-endpoints" ...
2025-03-31T20:30:01.126636070Z I0331 20:30:01.126627       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-pod-7/configmaps/etcd-endpoints/d14a2100e698e83f" ...
2025-03-31T20:30:01.126703388Z I0331 20:30:01.126694       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-pod-7/configmaps/etcd-endpoints/d8eeb1a7c31b9bf6" ...
2025-03-31T20:30:01.126767728Z I0331 20:30:01.126759       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-pod-7/configmaps/etcd-endpoints/b8c727e5ce5dce9" ...
2025-03-31T20:30:01.126834796Z I0331 20:30:01.126826       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/etcd-pod-7/configmaps/etcd-metrics-proxy-client-ca" ...
2025-03-31T20:30:01.126912075Z I0331 20:30:01.126902       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-pod-7/configmaps/etcd-metrics-proxy-client-ca/ca-bundle.crt" ...
2025-03-31T20:30:01.126993193Z I0331 20:30:01.126983       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/etcd-pod-7/configmaps/etcd-metrics-proxy-serving-ca" ...
2025-03-31T20:30:01.127038852Z I0331 20:30:01.127031       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-pod-7/configmaps/etcd-metrics-proxy-serving-ca/ca-bundle.crt" ...
2025-03-31T20:30:01.127106731Z I0331 20:30:01.127098       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/etcd-pod-7/configmaps/etcd-peer-client-ca" ...
2025-03-31T20:30:01.127150840Z I0331 20:30:01.127143       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-pod-7/configmaps/etcd-peer-client-ca/ca-bundle.crt" ...
2025-03-31T20:30:01.127218919Z I0331 20:30:01.127209       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/etcd-pod-7/configmaps/etcd-pod" ...
2025-03-31T20:30:01.127262748Z I0331 20:30:01.127255       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-pod-7/configmaps/etcd-pod/forceRedeploymentReason" ...
2025-03-31T20:30:01.127331026Z I0331 20:30:01.127322       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-pod-7/configmaps/etcd-pod/pod.yaml" ...
2025-03-31T20:30:01.127414226Z I0331 20:30:01.127400       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-pod-7/configmaps/etcd-pod/version" ...
2025-03-31T20:30:01.127563442Z I0331 20:30:01.127553       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/etcd-pod-7/configmaps/etcd-serving-ca" ...
2025-03-31T20:30:01.127610521Z I0331 20:30:01.127603       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-pod-7/configmaps/etcd-serving-ca/ca-bundle.crt" ...
2025-03-31T20:30:01.127679111Z I0331 20:30:01.127670       1 cmd.go:218] Creating target resource directory "/etc/kubernetes/static-pod-resources/etcd-certs" ...
2025-03-31T20:30:01.127698460Z I0331 20:30:01.127692       1 cmd.go:226] Getting secrets ...
2025-03-31T20:30:01.129618643Z I0331 20:30:01.129591       1 copy.go:32] Got secret openshift-etcd/etcd-all-certs
2025-03-31T20:30:01.129666762Z I0331 20:30:01.129655       1 cmd.go:239] Getting config maps ...
2025-03-31T20:30:01.313190247Z I0331 20:30:01.313153       1 copy.go:60] Got configMap openshift-etcd/etcd-metrics-proxy-client-ca
2025-03-31T20:30:01.513086679Z I0331 20:30:01.513007       1 copy.go:60] Got configMap openshift-etcd/etcd-metrics-proxy-serving-ca
2025-03-31T20:30:01.713628111Z I0331 20:30:01.713596       1 copy.go:60] Got configMap openshift-etcd/etcd-peer-client-ca
2025-03-31T20:30:01.913951094Z I0331 20:30:01.913919       1 copy.go:60] Got configMap openshift-etcd/etcd-scripts
2025-03-31T20:30:02.116087155Z I0331 20:30:02.116053       1 copy.go:60] Got configMap openshift-etcd/etcd-serving-ca
2025-03-31T20:30:02.314690292Z I0331 20:30:02.314658       1 copy.go:60] Got configMap openshift-etcd/restore-etcd-pod
2025-03-31T20:30:02.314794160Z I0331 20:30:02.314784       1 cmd.go:258] Creating directory "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs" ...
2025-03-31T20:30:02.314828880Z I0331 20:30:02.314821       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-serving-host-10-13-0-150.key" ...
2025-03-31T20:30:02.315115024Z I0331 20:30:02.315054       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-serving-host-10-13-2-160.crt" ...
2025-03-31T20:30:02.315274681Z I0331 20:30:02.315263       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-peer-host-10-13-2-89.crt" ...
2025-03-31T20:30:02.315393079Z I0331 20:30:02.315381       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-serving-metrics-host-10-13-2-160.crt" ...
2025-03-31T20:30:02.315651294Z I0331 20:30:02.315639       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-peer-host-10-13-2-89.key" ...
2025-03-31T20:30:02.315791142Z I0331 20:30:02.315755       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-serving-host-10-13-2-89.crt" ...
2025-03-31T20:30:02.315948648Z I0331 20:30:02.315937       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-peer-host-10-13-0-150.crt" ...
2025-03-31T20:30:02.316142555Z I0331 20:30:02.316130       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-peer-host-10-13-2-160.crt" ...
2025-03-31T20:30:02.316228833Z I0331 20:30:02.316218       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-peer-host-10-13-0-150.key" ...
2025-03-31T20:30:02.316309051Z I0331 20:30:02.316299       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-serving-metrics-host-10-13-0-150.key" ...
2025-03-31T20:30:02.316389850Z I0331 20:30:02.316380       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-peer-host-10-13-2-160.key" ...
2025-03-31T20:30:02.316470458Z I0331 20:30:02.316459       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-serving-metrics-host-10-13-2-89.crt" ...
2025-03-31T20:30:02.316769203Z I0331 20:30:02.316757       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-serving-host-10-13-2-89.key" ...
2025-03-31T20:30:02.316960359Z I0331 20:30:02.316916       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-serving-metrics-host-10-13-0-150.crt" ...
2025-03-31T20:30:02.317120906Z I0331 20:30:02.317103       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-serving-host-10-13-2-160.key" ...
2025-03-31T20:30:02.317288353Z I0331 20:30:02.317254       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-serving-metrics-host-10-13-2-160.key" ...
2025-03-31T20:30:02.317430740Z I0331 20:30:02.317420       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-serving-host-10-13-0-150.crt" ...
2025-03-31T20:30:02.317580218Z I0331 20:30:02.317569       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-serving-metrics-host-10-13-2-89.key" ...
2025-03-31T20:30:02.317779403Z I0331 20:30:02.317767       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-metrics-proxy-client-ca" ...
2025-03-31T20:30:02.317818703Z I0331 20:30:02.317810       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-metrics-proxy-client-ca/ca-bundle.crt" ...
2025-03-31T20:30:02.318030969Z I0331 20:30:02.318018       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-metrics-proxy-serving-ca" ...
2025-03-31T20:30:02.318079067Z I0331 20:30:02.318050       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-metrics-proxy-serving-ca/ca-bundle.crt" ...
2025-03-31T20:30:02.318203366Z I0331 20:30:02.318193       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-peer-client-ca" ...
2025-03-31T20:30:02.318227595Z I0331 20:30:02.318220       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-peer-client-ca/ca-bundle.crt" ...
2025-03-31T20:30:02.318369882Z I0331 20:30:02.318359       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-scripts" ...
2025-03-31T20:30:02.318396781Z I0331 20:30:02.318389       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-scripts/cluster-backup.sh" ...
2025-03-31T20:30:02.318609918Z I0331 20:30:02.318598       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-scripts/cluster-restore.sh" ...
2025-03-31T20:30:02.321800207Z I0331 20:30:02.319515       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-scripts/etcd-common-tools" ...
2025-03-31T20:30:02.321800207Z I0331 20:30:02.319685       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-scripts/etcd.env" ...
2025-03-31T20:30:02.321800207Z I0331 20:30:02.321143       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-serving-ca" ...
2025-03-31T20:30:02.321800207Z I0331 20:30:02.321168       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-serving-ca/ca-bundle.crt" ...
2025-03-31T20:30:02.321800207Z I0331 20:30:02.321311       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/restore-etcd-pod" ...
2025-03-31T20:30:02.321800207Z I0331 20:30:02.321330       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/restore-etcd-pod/forceRedeploymentReason" ...
2025-03-31T20:30:02.321800207Z I0331 20:30:02.321433       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/restore-etcd-pod/pod.yaml" ...
2025-03-31T20:30:02.321800207Z I0331 20:30:02.321544       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/restore-etcd-pod/version" ...
2025-03-31T20:30:02.321800207Z I0331 20:30:02.321658       1 cmd.go:332] Getting pod configmaps/etcd-pod-7 -n openshift-etcd
2025-03-31T20:30:02.513322579Z I0331 20:30:02.513278       1 cmd.go:348] Creating directory for static pod manifest "/etc/kubernetes/manifests" ...
2025-03-31T20:30:02.513322579Z I0331 20:30:02.513306       1 cmd.go:376] Writing a pod under "etcd-pod.yaml" key 
2025-03-31T20:30:02.513322579Z apiVersion: v1
2025-03-31T20:30:02.513322579Z kind: Pod
2025-03-31T20:30:02.513322579Z metadata:
2025-03-31T20:30:02.513322579Z   name: etcd
2025-03-31T20:30:02.513322579Z   namespace: openshift-etcd
2025-03-31T20:30:02.513322579Z   annotations:
2025-03-31T20:30:02.513322579Z     kubectl.kubernetes.io/default-container: etcd
2025-03-31T20:30:02.513322579Z     target.workload.openshift.io/management: '{"effect": "PreferredDuringScheduling"}'
2025-03-31T20:30:02.513322579Z   labels:
2025-03-31T20:30:02.513322579Z     app: etcd
2025-03-31T20:30:02.513322579Z     k8s-app: etcd
2025-03-31T20:30:02.513322579Z     etcd: "true"
2025-03-31T20:30:02.513322579Z     revision: "7"
2025-03-31T20:30:02.513322579Z spec:
2025-03-31T20:30:02.513322579Z   initContainers:
2025-03-31T20:30:02.513322579Z     - name: setup
2025-03-31T20:30:02.513322579Z       image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:4dc1007b5a77f225b626a2f3ea2587fb33772e8bd02cb680c34040065dd21a73
2025-03-31T20:30:02.513322579Z       imagePullPolicy: IfNotPresent
2025-03-31T20:30:02.513322579Z       terminationMessagePolicy: FallbackToLogsOnError
2025-03-31T20:30:02.513322579Z       command:
2025-03-31T20:30:02.513322579Z         - /bin/sh
2025-03-31T20:30:02.513322579Z         - -c
2025-03-31T20:30:02.513322579Z         - |
2025-03-31T20:30:02.513322579Z           #!/bin/sh
2025-03-31T20:30:02.513322579Z           echo -n "Fixing etcd log permissions."
2025-03-31T20:30:02.513322579Z           mkdir -p /var/log/etcd && chmod 0700 /var/log/etcd
2025-03-31T20:30:02.513322579Z       securityContext:
2025-03-31T20:30:02.513322579Z         privileged: true
2025-03-31T20:30:02.513322579Z       resources:
2025-03-31T20:30:02.513322579Z         requests:
2025-03-31T20:30:02.513322579Z           memory: 50Mi
2025-03-31T20:30:02.513322579Z           cpu: 5m
2025-03-31T20:30:02.513322579Z       volumeMounts:
2025-03-31T20:30:02.513322579Z         - mountPath: /var/log/etcd
2025-03-31T20:30:02.513322579Z           name: log-dir
2025-03-31T20:30:02.513322579Z     - name: etcd-ensure-env-vars
2025-03-31T20:30:02.513322579Z       image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:4dc1007b5a77f225b626a2f3ea2587fb33772e8bd02cb680c34040065dd21a73
2025-03-31T20:30:02.513322579Z       imagePullPolicy: IfNotPresent
2025-03-31T20:30:02.513322579Z       terminationMessagePolicy: FallbackToLogsOnError
2025-03-31T20:30:02.513322579Z       command:
2025-03-31T20:30:02.513322579Z         - /bin/sh
2025-03-31T20:30:02.513322579Z         - -c
2025-03-31T20:30:02.513322579Z         - |
2025-03-31T20:30:02.513322579Z           #!/bin/sh
2025-03-31T20:30:02.513322579Z           set -euo pipefail
2025-03-31T20:30:02.513322579Z 
2025-03-31T20:30:02.513322579Z           : "${NODE_host_10_13_0_150_ETCD_URL_HOST?not set}"
2025-03-31T20:30:02.513322579Z           : "${NODE_host_10_13_0_150_ETCD_NAME?not set}"
2025-03-31T20:30:02.513322579Z           : "${NODE_host_10_13_0_150_IP?not set}"
2025-03-31T20:30:02.513322579Z 
2025-03-31T20:30:02.513322579Z           # check for ipv4 addresses as well as ipv6 addresses with extra square brackets
2025-03-31T20:30:02.513322579Z           if [[ "${NODE_host_10_13_0_150_IP}" != "${NODE_IP}" && "${NODE_host_10_13_0_150_IP}" != "[${NODE_IP}]" ]]; then
2025-03-31T20:30:02.513322579Z             # echo the error message to stderr
2025-03-31T20:30:02.513322579Z             echo "Expected node IP to be ${NODE_IP} got ${NODE_host_10_13_0_150_IP}" >&2
2025-03-31T20:30:02.513322579Z             exit 1
2025-03-31T20:30:02.513322579Z           fi
2025-03-31T20:30:02.513322579Z 
2025-03-31T20:30:02.513322579Z           # check for ipv4 addresses as well as ipv6 addresses with extra square brackets
2025-03-31T20:30:02.513322579Z           if [[ "${NODE_host_10_13_0_150_ETCD_URL_HOST}" != "${NODE_IP}" && "${NODE_host_10_13_0_150_ETCD_URL_HOST}" != "[${NODE_IP}]" ]]; then
2025-03-31T20:30:02.513322579Z             # echo the error message to stderr
2025-03-31T20:30:02.513322579Z             echo "Expected etcd url host to be ${NODE_IP} got ${NODE_host_10_13_0_150_ETCD_URL_HOST}" >&2
2025-03-31T20:30:02.513322579Z             exit 1
2025-03-31T20:30:02.513322579Z           fi
2025-03-31T20:30:02.513322579Z 
2025-03-31T20:30:02.513322579Z       resources:
2025-03-31T20:30:02.513322579Z         requests:
2025-03-31T20:30:02.513322579Z           memory: 60Mi
2025-03-31T20:30:02.513322579Z           cpu: 10m
2025-03-31T20:30:02.513322579Z       securityContext:
2025-03-31T20:30:02.513322579Z         privileged: true
2025-03-31T20:30:02.513322579Z       env:
2025-03-31T20:30:02.513322579Z       - name: "ALL_ETCD_ENDPOINTS"
2025-03-31T20:30:02.513322579Z         value: "https://10.13.0.100:2379,https://10.13.0.150:2379,https://10.13.2.160:2379,https://10.13.2.89:2379"
2025-03-31T20:30:02.513322579Z       - name: "ETCDCTL_API"
2025-03-31T20:30:02.513322579Z         value: "3"
2025-03-31T20:30:02.513322579Z       - name: "ETCDCTL_CACERT"
2025-03-31T20:30:02.513322579Z         value: "/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt"
2025-03-31T20:30:02.513322579Z       - name: "ETCDCTL_CERT"
2025-03-31T20:30:02.513322579Z         value: "/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-host-10-13-0-150.crt"
2025-03-31T20:30:02.513322579Z       - name: "ETCDCTL_ENDPOINTS"
2025-03-31T20:30:02.513322579Z         value: "https://10.13.0.150:2379,https://10.13.2.160:2379,https://10.13.2.89:2379"
2025-03-31T20:30:02.513322579Z       - name: "ETCDCTL_KEY"
2025-03-31T20:30:02.513322579Z         value: "/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-host-10-13-0-150.key"
2025-03-31T20:30:02.513322579Z       - name: "ETCD_CIPHER_SUITES"
2025-03-31T20:30:02.513322579Z         value: "TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256"
2025-03-31T20:30:02.513322579Z       - name: "ETCD_DATA_DIR"
2025-03-31T20:30:02.513322579Z         value: "/var/lib/etcd"
2025-03-31T20:30:02.513322579Z       - name: "ETCD_ELECTION_TIMEOUT"
2025-03-31T20:30:02.513322579Z         value: "1000"
2025-03-31T20:30:02.513322579Z       - name: "ETCD_ENABLE_PPROF"
2025-03-31T20:30:02.513322579Z         value: "true"
2025-03-31T20:30:02.513322579Z       - name: "ETCD_EXPERIMENTAL_MAX_LEARNERS"
2025-03-31T20:30:02.513322579Z         value: "3"
2025-03-31T20:30:02.513322579Z       - name: "ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION"
2025-03-31T20:30:02.513322579Z         value: "200ms"
2025-03-31T20:30:02.513322579Z       - name: "ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL"
2025-03-31T20:30:02.513322579Z         value: "5s"
2025-03-31T20:30:02.513322579Z       - name: "ETCD_HEARTBEAT_INTERVAL"
2025-03-31T20:30:02.513322579Z         value: "100"
2025-03-31T20:30:02.513322579Z       - name: "ETCD_IMAGE"
2025-03-31T20:30:02.513322579Z         value: "quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:4dc1007b5a77f225b626a2f3ea2587fb33772e8bd02cb680c34040065dd21a73"
2025-03-31T20:30:02.513322579Z       - name: "ETCD_INITIAL_CLUSTER_STATE"
2025-03-31T20:30:02.513322579Z         value: "existing"
2025-03-31T20:30:02.513322579Z       - name: "ETCD_QUOTA_BACKEND_BYTES"
2025-03-31T20:30:02.513322579Z         value: "8589934592"
2025-03-31T20:30:02.513322579Z       - name: "ETCD_SOCKET_REUSE_ADDRESS"
2025-03-31T20:30:02.513322579Z         value: "true"
2025-03-31T20:30:02.513322579Z       - name: "NODE_host_10_13_0_150_ETCD_NAME"
2025-03-31T20:30:02.513322579Z         value: "host-10-13-0-150"
2025-03-31T20:30:02.513322579Z       - name: "NODE_host_10_13_0_150_ETCD_URL_HOST"
2025-03-31T20:30:02.513322579Z         value: "10.13.0.150"
2025-03-31T20:30:02.513322579Z       - name: "NODE_host_10_13_0_150_IP"
2025-03-31T20:30:02.513322579Z         value: "10.13.0.150"
2025-03-31T20:30:02.513322579Z       - name: "NODE_host_10_13_2_160_ETCD_NAME"
2025-03-31T20:30:02.513322579Z         value: "host-10-13-2-160"
2025-03-31T20:30:02.513322579Z       - name: "NODE_host_10_13_2_160_ETCD_URL_HOST"
2025-03-31T20:30:02.513322579Z         value: "10.13.2.160"
2025-03-31T20:30:02.513322579Z       - name: "NODE_host_10_13_2_160_IP"
2025-03-31T20:30:02.513322579Z         value: "10.13.2.160"
2025-03-31T20:30:02.513322579Z       - name: "NODE_host_10_13_2_89_ETCD_NAME"
2025-03-31T20:30:02.513322579Z         value: "host-10-13-2-89"
2025-03-31T20:30:02.513322579Z       - name: "NODE_host_10_13_2_89_ETCD_URL_HOST"
2025-03-31T20:30:02.513322579Z         value: "10.13.2.89"
2025-03-31T20:30:02.513322579Z       - name: "NODE_host_10_13_2_89_IP"
2025-03-31T20:30:02.513322579Z         value: "10.13.2.89"
2025-03-31T20:30:02.513322579Z       - name: NODE_IP
2025-03-31T20:30:02.513322579Z         valueFrom:
2025-03-31T20:30:02.513322579Z           fieldRef:
2025-03-31T20:30:02.513322579Z             fieldPath: status.podIP
2025-03-31T20:30:02.513322579Z     - name: etcd-resources-copy
2025-03-31T20:30:02.513322579Z       image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:4dc1007b5a77f225b626a2f3ea2587fb33772e8bd02cb680c34040065dd21a73
2025-03-31T20:30:02.513322579Z       imagePullPolicy: IfNotPresent
2025-03-31T20:30:02.513322579Z       terminationMessagePolicy: FallbackToLogsOnError
2025-03-31T20:30:02.513322579Z       command:
2025-03-31T20:30:02.513322579Z         - /bin/sh
2025-03-31T20:30:02.513322579Z         - -c
2025-03-31T20:30:02.513322579Z         - |
2025-03-31T20:30:02.513322579Z           #!/bin/sh
2025-03-31T20:30:02.513322579Z           set -euo pipefail
2025-03-31T20:30:02.513322579Z 
2025-03-31T20:30:02.513322579Z           rm -f $(grep -l '^### Created by cluster-etcd-operator' /usr/local/bin/*)
2025-03-31T20:30:02.513322579Z           cp -p /etc/kubernetes/static-pod-certs/configmaps/etcd-scripts/*.sh /usr/local/bin
2025-03-31T20:30:02.513322579Z 
2025-03-31T20:30:02.513322579Z       resources:
2025-03-31T20:30:02.513322579Z         requests:
2025-03-31T20:30:02.513322579Z           memory: 60Mi
2025-03-31T20:30:02.513322579Z           cpu: 10m
2025-03-31T20:30:02.513322579Z       securityContext:
2025-03-31T20:30:02.513322579Z         privileged: true
2025-03-31T20:30:02.513322579Z       volumeMounts:
2025-03-31T20:30:02.513322579Z         - mountPath: /etc/kubernetes/static-pod-resources
2025-03-31T20:30:02.513322579Z           name: resource-dir
2025-03-31T20:30:02.513322579Z         - mountPath: /etc/kubernetes/static-pod-certs
2025-03-31T20:30:02.513322579Z           name: cert-dir
2025-03-31T20:30:02.513322579Z         - mountPath: /usr/local/bin
2025-03-31T20:30:02.513322579Z           name: usr-local-bin
2025-03-31T20:30:02.513322579Z   containers:
2025-03-31T20:30:02.513322579Z   # The etcdctl container should always be first. It is intended to be used
2025-03-31T20:30:02.513322579Z   # to open a remote shell via `oc rsh` that is ready to run `etcdctl`.
2025-03-31T20:30:02.513322579Z   - name: etcdctl
2025-03-31T20:30:02.513322579Z     image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:4dc1007b5a77f225b626a2f3ea2587fb33772e8bd02cb680c34040065dd21a73
2025-03-31T20:30:02.513322579Z     imagePullPolicy: IfNotPresent
2025-03-31T20:30:02.513322579Z     terminationMessagePolicy: FallbackToLogsOnError
2025-03-31T20:30:02.513322579Z     command:
2025-03-31T20:30:02.513322579Z       - "/bin/bash"
2025-03-31T20:30:02.513322579Z       - "-c"
2025-03-31T20:30:02.513322579Z       - "trap TERM INT; sleep infinity & wait"
2025-03-31T20:30:02.513322579Z     resources:
2025-03-31T20:30:02.513322579Z       requests:
2025-03-31T20:30:02.513322579Z         memory: 60Mi
2025-03-31T20:30:02.513322579Z         cpu: 10m
2025-03-31T20:30:02.513322579Z     volumeMounts:
2025-03-31T20:30:02.513322579Z       - mountPath: /etc/kubernetes/manifests
2025-03-31T20:30:02.513322579Z         name: static-pod-dir
2025-03-31T20:30:02.513322579Z       - mountPath: /etc/kubernetes/static-pod-resources
2025-03-31T20:30:02.513322579Z         name: resource-dir
2025-03-31T20:30:02.513322579Z       - mountPath: /etc/kubernetes/static-pod-certs
2025-03-31T20:30:02.513322579Z         name: cert-dir
2025-03-31T20:30:02.513322579Z       - mountPath: /var/lib/etcd/
2025-03-31T20:30:02.513322579Z         name: data-dir
2025-03-31T20:30:02.513322579Z     env:
2025-03-31T20:30:02.513322579Z       - name: "ALL_ETCD_ENDPOINTS"
2025-03-31T20:30:02.513322579Z         value: "https://10.13.0.100:2379,https://10.13.0.150:2379,https://10.13.2.160:2379,https://10.13.2.89:2379"
2025-03-31T20:30:02.513322579Z       - name: "ETCDCTL_API"
2025-03-31T20:30:02.513322579Z         value: "3"
2025-03-31T20:30:02.513322579Z       - name: "ETCDCTL_CACERT"
2025-03-31T20:30:02.513322579Z         value: "/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt"
2025-03-31T20:30:02.513322579Z       - name: "ETCDCTL_CERT"
2025-03-31T20:30:02.513322579Z         value: "/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-host-10-13-0-150.crt"
2025-03-31T20:30:02.513322579Z       - name: "ETCDCTL_ENDPOINTS"
2025-03-31T20:30:02.513322579Z         value: "https://10.13.0.150:2379,https://10.13.2.160:2379,https://10.13.2.89:2379"
2025-03-31T20:30:02.513322579Z       - name: "ETCDCTL_KEY"
2025-03-31T20:30:02.513322579Z         value: "/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-host-10-13-0-150.key"
2025-03-31T20:30:02.513322579Z       - name: "ETCD_CIPHER_SUITES"
2025-03-31T20:30:02.513322579Z         value: "TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256"
2025-03-31T20:30:02.513322579Z       - name: "ETCD_DATA_DIR"
2025-03-31T20:30:02.513322579Z         value: "/var/lib/etcd"
2025-03-31T20:30:02.513322579Z       - name: "ETCD_ELECTION_TIMEOUT"
2025-03-31T20:30:02.513322579Z         value: "1000"
2025-03-31T20:30:02.513322579Z       - name: "ETCD_ENABLE_PPROF"
2025-03-31T20:30:02.513416597Z         value: "true"
2025-03-31T20:30:02.513416597Z       - name: "ETCD_EXPERIMENTAL_MAX_LEARNERS"
2025-03-31T20:30:02.513416597Z         value: "3"
2025-03-31T20:30:02.513416597Z       - name: "ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION"
2025-03-31T20:30:02.513416597Z         value: "200ms"
2025-03-31T20:30:02.513416597Z       - name: "ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL"
2025-03-31T20:30:02.513416597Z         value: "5s"
2025-03-31T20:30:02.513416597Z       - name: "ETCD_HEARTBEAT_INTERVAL"
2025-03-31T20:30:02.513416597Z         value: "100"
2025-03-31T20:30:02.513416597Z       - name: "ETCD_IMAGE"
2025-03-31T20:30:02.513416597Z         value: "quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:4dc1007b5a77f225b626a2f3ea2587fb33772e8bd02cb680c34040065dd21a73"
2025-03-31T20:30:02.513416597Z       - name: "ETCD_INITIAL_CLUSTER_STATE"
2025-03-31T20:30:02.513416597Z         value: "existing"
2025-03-31T20:30:02.513416597Z       - name: "ETCD_QUOTA_BACKEND_BYTES"
2025-03-31T20:30:02.513416597Z         value: "8589934592"
2025-03-31T20:30:02.513416597Z       - name: "ETCD_SOCKET_REUSE_ADDRESS"
2025-03-31T20:30:02.513416597Z         value: "true"
2025-03-31T20:30:02.513416597Z       - name: "NODE_host_10_13_0_150_ETCD_NAME"
2025-03-31T20:30:02.513416597Z         value: "host-10-13-0-150"
2025-03-31T20:30:02.513416597Z       - name: "NODE_host_10_13_0_150_ETCD_URL_HOST"
2025-03-31T20:30:02.513416597Z         value: "10.13.0.150"
2025-03-31T20:30:02.513416597Z       - name: "NODE_host_10_13_0_150_IP"
2025-03-31T20:30:02.513416597Z         value: "10.13.0.150"
2025-03-31T20:30:02.513416597Z       - name: "NODE_host_10_13_2_160_ETCD_NAME"
2025-03-31T20:30:02.513416597Z         value: "host-10-13-2-160"
2025-03-31T20:30:02.513416597Z       - name: "NODE_host_10_13_2_160_ETCD_URL_HOST"
2025-03-31T20:30:02.513416597Z         value: "10.13.2.160"
2025-03-31T20:30:02.513416597Z       - name: "NODE_host_10_13_2_160_IP"
2025-03-31T20:30:02.513416597Z         value: "10.13.2.160"
2025-03-31T20:30:02.513416597Z       - name: "NODE_host_10_13_2_89_ETCD_NAME"
2025-03-31T20:30:02.513416597Z         value: "host-10-13-2-89"
2025-03-31T20:30:02.513416597Z       - name: "NODE_host_10_13_2_89_ETCD_URL_HOST"
2025-03-31T20:30:02.513416597Z         value: "10.13.2.89"
2025-03-31T20:30:02.513416597Z       - name: "NODE_host_10_13_2_89_IP"
2025-03-31T20:30:02.513416597Z         value: "10.13.2.89"
2025-03-31T20:30:02.513416597Z       - name: "ETCD_STATIC_POD_VERSION"
2025-03-31T20:30:02.513416597Z         value: "7"
2025-03-31T20:30:02.513416597Z   - name: etcd
2025-03-31T20:30:02.513416597Z     image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:4dc1007b5a77f225b626a2f3ea2587fb33772e8bd02cb680c34040065dd21a73
2025-03-31T20:30:02.513416597Z     imagePullPolicy: IfNotPresent
2025-03-31T20:30:02.513416597Z     terminationMessagePolicy: FallbackToLogsOnError
2025-03-31T20:30:02.513416597Z     command:
2025-03-31T20:30:02.513416597Z       - /bin/sh
2025-03-31T20:30:02.513416597Z       - -c
2025-03-31T20:30:02.513416597Z       - |
2025-03-31T20:30:02.513416597Z         #!/bin/sh
2025-03-31T20:30:02.513416597Z         set -euo pipefail
2025-03-31T20:30:02.513416597Z 
2025-03-31T20:30:02.513416597Z         etcdctl member list || true
2025-03-31T20:30:02.513416597Z 
2025-03-31T20:30:02.513416597Z         # this has a non-zero return code if the command is non-zero.  If you use an export first, it doesn't and you
2025-03-31T20:30:02.513416597Z         # will succeed when you should fail.
2025-03-31T20:30:02.513416597Z         ETCD_INITIAL_CLUSTER=$(discover-etcd-initial-cluster \
2025-03-31T20:30:02.513416597Z           --cacert=/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt \
2025-03-31T20:30:02.513416597Z           --cert=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-host-10-13-0-150.crt \
2025-03-31T20:30:02.513416597Z           --key=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-host-10-13-0-150.key \
2025-03-31T20:30:02.513416597Z           --endpoints=${ALL_ETCD_ENDPOINTS} \
2025-03-31T20:30:02.513416597Z           --data-dir=/var/lib/etcd \
2025-03-31T20:30:02.513416597Z           --target-peer-url-host=${NODE_host_10_13_0_150_ETCD_URL_HOST} \
2025-03-31T20:30:02.513416597Z           --target-name=host-10-13-0-150)
2025-03-31T20:30:02.513416597Z         export ETCD_INITIAL_CLUSTER
2025-03-31T20:30:02.513416597Z 
2025-03-31T20:30:02.513416597Z         # we cannot use the "normal" port conflict initcontainer because when we upgrade, the existing static pod will never yield,
2025-03-31T20:30:02.513416597Z         # so we do the detection in etcd container itself.
2025-03-31T20:30:02.513416597Z         echo -n "Waiting for ports 2379, 2380 and 9978 to be released."
2025-03-31T20:30:02.513416597Z         time while [ -n "$(ss -Htan '( sport = 2379 or sport = 2380 or sport = 9978 )')" ]; do
2025-03-31T20:30:02.513416597Z           echo -n "."
2025-03-31T20:30:02.513416597Z           sleep 1
2025-03-31T20:30:02.513416597Z         done
2025-03-31T20:30:02.513416597Z 
2025-03-31T20:30:02.513416597Z         export ETCD_NAME=${NODE_host_10_13_0_150_ETCD_NAME}
2025-03-31T20:30:02.513416597Z         env | grep ETCD | grep -v NODE
2025-03-31T20:30:02.513416597Z 
2025-03-31T20:30:02.513416597Z         set -x
2025-03-31T20:30:02.513416597Z         # See https://etcd.io/docs/v3.4.0/tuning/ for why we use ionice
2025-03-31T20:30:02.513416597Z         exec nice -n -19 ionice -c2 -n0 etcd \
2025-03-31T20:30:02.513416597Z           --logger=zap \
2025-03-31T20:30:02.513416597Z           --log-level=info \
2025-03-31T20:30:02.513416597Z           --experimental-initial-corrupt-check=true \
2025-03-31T20:30:02.513416597Z           --snapshot-count=10000 \
2025-03-31T20:30:02.513416597Z           --initial-advertise-peer-urls=https://${NODE_host_10_13_0_150_IP}:2380 \
2025-03-31T20:30:02.513416597Z           --cert-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-host-10-13-0-150.crt \
2025-03-31T20:30:02.513416597Z           --key-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-host-10-13-0-150.key \
2025-03-31T20:30:02.513416597Z           --trusted-ca-file=/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt \
2025-03-31T20:30:02.513416597Z           --client-cert-auth=true \
2025-03-31T20:30:02.513416597Z           --peer-cert-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-host-10-13-0-150.crt \
2025-03-31T20:30:02.513416597Z           --peer-key-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-host-10-13-0-150.key \
2025-03-31T20:30:02.513416597Z           --peer-trusted-ca-file=/etc/kubernetes/static-pod-certs/configmaps/etcd-peer-client-ca/ca-bundle.crt \
2025-03-31T20:30:02.513416597Z           --peer-client-cert-auth=true \
2025-03-31T20:30:02.513416597Z           --advertise-client-urls=https://${NODE_host_10_13_0_150_IP}:2379 \
2025-03-31T20:30:02.513416597Z           --listen-client-urls=https://0.0.0.0:2379,unixs://${NODE_host_10_13_0_150_IP}:0 \
2025-03-31T20:30:02.513416597Z           --listen-peer-urls=https://0.0.0.0:2380 \
2025-03-31T20:30:02.513416597Z           --metrics=extensive \
2025-03-31T20:30:02.513416597Z           --listen-metrics-urls=https://0.0.0.0:9978 ||  mv /etc/kubernetes/etcd-backup-dir/etcd-member.yaml /etc/kubernetes/manifests
2025-03-31T20:30:02.513416597Z     env:
2025-03-31T20:30:02.513416597Z       - name: "ALL_ETCD_ENDPOINTS"
2025-03-31T20:30:02.513416597Z         value: "https://10.13.0.100:2379,https://10.13.0.150:2379,https://10.13.2.160:2379,https://10.13.2.89:2379"
2025-03-31T20:30:02.513416597Z       - name: "ETCDCTL_API"
2025-03-31T20:30:02.513416597Z         value: "3"
2025-03-31T20:30:02.513416597Z       - name: "ETCDCTL_CACERT"
2025-03-31T20:30:02.513416597Z         value: "/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt"
2025-03-31T20:30:02.513416597Z       - name: "ETCDCTL_CERT"
2025-03-31T20:30:02.513416597Z         value: "/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-host-10-13-0-150.crt"
2025-03-31T20:30:02.513416597Z       - name: "ETCDCTL_ENDPOINTS"
2025-03-31T20:30:02.513416597Z         value: "https://10.13.0.150:2379,https://10.13.2.160:2379,https://10.13.2.89:2379"
2025-03-31T20:30:02.513416597Z       - name: "ETCDCTL_KEY"
2025-03-31T20:30:02.513416597Z         value: "/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-host-10-13-0-150.key"
2025-03-31T20:30:02.513416597Z       - name: "ETCD_CIPHER_SUITES"
2025-03-31T20:30:02.513416597Z         value: "TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256"
2025-03-31T20:30:02.513416597Z       - name: "ETCD_DATA_DIR"
2025-03-31T20:30:02.513416597Z         value: "/var/lib/etcd"
2025-03-31T20:30:02.513416597Z       - name: "ETCD_ELECTION_TIMEOUT"
2025-03-31T20:30:02.513416597Z         value: "1000"
2025-03-31T20:30:02.513416597Z       - name: "ETCD_ENABLE_PPROF"
2025-03-31T20:30:02.513416597Z         value: "true"
2025-03-31T20:30:02.513416597Z       - name: "ETCD_EXPERIMENTAL_MAX_LEARNERS"
2025-03-31T20:30:02.513416597Z         value: "3"
2025-03-31T20:30:02.513416597Z       - name: "ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION"
2025-03-31T20:30:02.513416597Z         value: "200ms"
2025-03-31T20:30:02.513416597Z       - name: "ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL"
2025-03-31T20:30:02.513416597Z         value: "5s"
2025-03-31T20:30:02.513416597Z       - name: "ETCD_HEARTBEAT_INTERVAL"
2025-03-31T20:30:02.513416597Z         value: "100"
2025-03-31T20:30:02.513416597Z       - name: "ETCD_IMAGE"
2025-03-31T20:30:02.513416597Z         value: "quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:4dc1007b5a77f225b626a2f3ea2587fb33772e8bd02cb680c34040065dd21a73"
2025-03-31T20:30:02.513416597Z       - name: "ETCD_INITIAL_CLUSTER_STATE"
2025-03-31T20:30:02.513416597Z         value: "existing"
2025-03-31T20:30:02.513416597Z       - name: "ETCD_QUOTA_BACKEND_BYTES"
2025-03-31T20:30:02.513416597Z         value: "8589934592"
2025-03-31T20:30:02.513416597Z       - name: "ETCD_SOCKET_REUSE_ADDRESS"
2025-03-31T20:30:02.513416597Z         value: "true"
2025-03-31T20:30:02.513416597Z       - name: "NODE_host_10_13_0_150_ETCD_NAME"
2025-03-31T20:30:02.513416597Z         value: "host-10-13-0-150"
2025-03-31T20:30:02.513416597Z       - name: "NODE_host_10_13_0_150_ETCD_URL_HOST"
2025-03-31T20:30:02.513416597Z         value: "10.13.0.150"
2025-03-31T20:30:02.513416597Z       - name: "NODE_host_10_13_0_150_IP"
2025-03-31T20:30:02.513416597Z         value: "10.13.0.150"
2025-03-31T20:30:02.513416597Z       - name: "NODE_host_10_13_2_160_ETCD_NAME"
2025-03-31T20:30:02.513416597Z         value: "host-10-13-2-160"
2025-03-31T20:30:02.513416597Z       - name: "NODE_host_10_13_2_160_ETCD_URL_HOST"
2025-03-31T20:30:02.513416597Z         value: "10.13.2.160"
2025-03-31T20:30:02.513416597Z       - name: "NODE_host_10_13_2_160_IP"
2025-03-31T20:30:02.513416597Z         value: "10.13.2.160"
2025-03-31T20:30:02.513416597Z       - name: "NODE_host_10_13_2_89_ETCD_NAME"
2025-03-31T20:30:02.513416597Z         value: "host-10-13-2-89"
2025-03-31T20:30:02.513416597Z       - name: "NODE_host_10_13_2_89_ETCD_URL_HOST"
2025-03-31T20:30:02.513416597Z         value: "10.13.2.89"
2025-03-31T20:30:02.513416597Z       - name: "NODE_host_10_13_2_89_IP"
2025-03-31T20:30:02.513416597Z         value: "10.13.2.89"
2025-03-31T20:30:02.513416597Z       - name: "ETCD_STATIC_POD_VERSION"
2025-03-31T20:30:02.513416597Z         value: "7"
2025-03-31T20:30:02.513416597Z     resources:
2025-03-31T20:30:02.513416597Z       requests:
2025-03-31T20:30:02.513416597Z         memory: 600Mi
2025-03-31T20:30:02.513416597Z         cpu: 300m
2025-03-31T20:30:02.513416597Z     readinessProbe:
2025-03-31T20:30:02.513416597Z       httpGet:
2025-03-31T20:30:02.513416597Z         port: 9980
2025-03-31T20:30:02.513416597Z         path: readyz
2025-03-31T20:30:02.513416597Z         scheme: HTTPS
2025-03-31T20:30:02.513416597Z       timeoutSeconds: 30
2025-03-31T20:30:02.513416597Z       failureThreshold: 5
2025-03-31T20:30:02.513416597Z       periodSeconds: 5
2025-03-31T20:30:02.513416597Z       successThreshold: 1
2025-03-31T20:30:02.513416597Z     livenessProbe:
2025-03-31T20:30:02.513416597Z       httpGet:
2025-03-31T20:30:02.513416597Z         path: healthz
2025-03-31T20:30:02.513416597Z         port: 9980
2025-03-31T20:30:02.513416597Z         scheme: HTTPS
2025-03-31T20:30:02.513416597Z       timeoutSeconds: 30
2025-03-31T20:30:02.513416597Z       periodSeconds: 5
2025-03-31T20:30:02.513416597Z       successThreshold: 1
2025-03-31T20:30:02.513416597Z       failureThreshold: 5
2025-03-31T20:30:02.513416597Z     startupProbe:
2025-03-31T20:30:02.513416597Z       httpGet:
2025-03-31T20:30:02.513416597Z         port: 9980
2025-03-31T20:30:02.513416597Z         path: readyz
2025-03-31T20:30:02.513416597Z         scheme: HTTPS
2025-03-31T20:30:02.513416597Z       initialDelaySeconds: 10
2025-03-31T20:30:02.513416597Z       timeoutSeconds: 1
2025-03-31T20:30:02.513416597Z       periodSeconds: 10
2025-03-31T20:30:02.513416597Z       successThreshold: 1
2025-03-31T20:30:02.513416597Z       failureThreshold: 18
2025-03-31T20:30:02.513416597Z     securityContext:
2025-03-31T20:30:02.513416597Z       privileged: true
2025-03-31T20:30:02.513416597Z     volumeMounts:
2025-03-31T20:30:02.513416597Z       - mountPath: /etc/kubernetes/manifests
2025-03-31T20:30:02.513416597Z         name: static-pod-dir
2025-03-31T20:30:02.513416597Z       - mountPath: /etc/kubernetes/static-pod-resources
2025-03-31T20:30:02.513416597Z         name: resource-dir
2025-03-31T20:30:02.513416597Z       - mountPath: /etc/kubernetes/static-pod-certs
2025-03-31T20:30:02.513416597Z         name: cert-dir
2025-03-31T20:30:02.513416597Z       - mountPath: /var/lib/etcd/
2025-03-31T20:30:02.513475347Z         name: data-dir
2025-03-31T20:30:02.513475347Z   - name: etcd-metrics
2025-03-31T20:30:02.513475347Z     image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:4dc1007b5a77f225b626a2f3ea2587fb33772e8bd02cb680c34040065dd21a73
2025-03-31T20:30:02.513475347Z     imagePullPolicy: IfNotPresent
2025-03-31T20:30:02.513475347Z     terminationMessagePolicy: FallbackToLogsOnError
2025-03-31T20:30:02.513475347Z     command:
2025-03-31T20:30:02.513475347Z       - /bin/sh
2025-03-31T20:30:02.513475347Z       - -c
2025-03-31T20:30:02.513475347Z       - |
2025-03-31T20:30:02.513475347Z         #!/bin/sh
2025-03-31T20:30:02.513475347Z         set -euo pipefail
2025-03-31T20:30:02.513475347Z 
2025-03-31T20:30:02.513475347Z         export ETCD_NAME=${NODE_host_10_13_0_150_ETCD_NAME}
2025-03-31T20:30:02.513475347Z 
2025-03-31T20:30:02.513475347Z         exec nice -n -18 etcd grpc-proxy start \
2025-03-31T20:30:02.513475347Z           --endpoints https://${NODE_host_10_13_0_150_ETCD_URL_HOST}:9978 \
2025-03-31T20:30:02.513475347Z           --metrics-addr https://0.0.0.0:9979 \
2025-03-31T20:30:02.513475347Z           --listen-addr 127.0.0.1:9977 \
2025-03-31T20:30:02.513475347Z           --advertise-client-url ""  \
2025-03-31T20:30:02.513475347Z           --key /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-host-10-13-0-150.key \
2025-03-31T20:30:02.513475347Z           --key-file /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-metrics-host-10-13-0-150.key \
2025-03-31T20:30:02.513475347Z           --cert /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-host-10-13-0-150.crt \
2025-03-31T20:30:02.513475347Z           --cert-file /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-metrics-host-10-13-0-150.crt \
2025-03-31T20:30:02.513475347Z           --cacert /etc/kubernetes/static-pod-certs/configmaps/etcd-peer-client-ca/ca-bundle.crt \
2025-03-31T20:30:02.513475347Z           --trusted-ca-file /etc/kubernetes/static-pod-certs/configmaps/etcd-metrics-proxy-serving-ca/ca-bundle.crt \
2025-03-31T20:30:02.513475347Z           --listen-cipher-suites TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_AES_128_GCM_SHA256,TLS_AES_256_GCM_SHA384,TLS_CHACHA20_POLY1305_SHA256
2025-03-31T20:30:02.513475347Z     env:
2025-03-31T20:30:02.513475347Z       - name: "ALL_ETCD_ENDPOINTS"
2025-03-31T20:30:02.513475347Z         value: "https://10.13.0.100:2379,https://10.13.0.150:2379,https://10.13.2.160:2379,https://10.13.2.89:2379"
2025-03-31T20:30:02.513475347Z       - name: "ETCDCTL_API"
2025-03-31T20:30:02.513475347Z         value: "3"
2025-03-31T20:30:02.513475347Z       - name: "ETCDCTL_CACERT"
2025-03-31T20:30:02.513475347Z         value: "/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt"
2025-03-31T20:30:02.513475347Z       - name: "ETCDCTL_CERT"
2025-03-31T20:30:02.513475347Z         value: "/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-host-10-13-0-150.crt"
2025-03-31T20:30:02.513475347Z       - name: "ETCDCTL_ENDPOINTS"
2025-03-31T20:30:02.513475347Z         value: "https://10.13.0.150:2379,https://10.13.2.160:2379,https://10.13.2.89:2379"
2025-03-31T20:30:02.513475347Z       - name: "ETCDCTL_KEY"
2025-03-31T20:30:02.513475347Z         value: "/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-host-10-13-0-150.key"
2025-03-31T20:30:02.513475347Z       - name: "ETCD_CIPHER_SUITES"
2025-03-31T20:30:02.513475347Z         value: "TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256"
2025-03-31T20:30:02.513475347Z       - name: "ETCD_DATA_DIR"
2025-03-31T20:30:02.513475347Z         value: "/var/lib/etcd"
2025-03-31T20:30:02.513475347Z       - name: "ETCD_ELECTION_TIMEOUT"
2025-03-31T20:30:02.513475347Z         value: "1000"
2025-03-31T20:30:02.513475347Z       - name: "ETCD_ENABLE_PPROF"
2025-03-31T20:30:02.513475347Z         value: "true"
2025-03-31T20:30:02.513475347Z       - name: "ETCD_EXPERIMENTAL_MAX_LEARNERS"
2025-03-31T20:30:02.513475347Z         value: "3"
2025-03-31T20:30:02.513475347Z       - name: "ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION"
2025-03-31T20:30:02.513475347Z         value: "200ms"
2025-03-31T20:30:02.513475347Z       - name: "ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL"
2025-03-31T20:30:02.513475347Z         value: "5s"
2025-03-31T20:30:02.513475347Z       - name: "ETCD_HEARTBEAT_INTERVAL"
2025-03-31T20:30:02.513475347Z         value: "100"
2025-03-31T20:30:02.513475347Z       - name: "ETCD_IMAGE"
2025-03-31T20:30:02.513475347Z         value: "quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:4dc1007b5a77f225b626a2f3ea2587fb33772e8bd02cb680c34040065dd21a73"
2025-03-31T20:30:02.513475347Z       - name: "ETCD_INITIAL_CLUSTER_STATE"
2025-03-31T20:30:02.513475347Z         value: "existing"
2025-03-31T20:30:02.513475347Z       - name: "ETCD_QUOTA_BACKEND_BYTES"
2025-03-31T20:30:02.513475347Z         value: "8589934592"
2025-03-31T20:30:02.513475347Z       - name: "ETCD_SOCKET_REUSE_ADDRESS"
2025-03-31T20:30:02.513475347Z         value: "true"
2025-03-31T20:30:02.513475347Z       - name: "NODE_host_10_13_0_150_ETCD_NAME"
2025-03-31T20:30:02.513475347Z         value: "host-10-13-0-150"
2025-03-31T20:30:02.513475347Z       - name: "NODE_host_10_13_0_150_ETCD_URL_HOST"
2025-03-31T20:30:02.513475347Z         value: "10.13.0.150"
2025-03-31T20:30:02.513475347Z       - name: "NODE_host_10_13_0_150_IP"
2025-03-31T20:30:02.513475347Z         value: "10.13.0.150"
2025-03-31T20:30:02.513475347Z       - name: "NODE_host_10_13_2_160_ETCD_NAME"
2025-03-31T20:30:02.513475347Z         value: "host-10-13-2-160"
2025-03-31T20:30:02.513475347Z       - name: "NODE_host_10_13_2_160_ETCD_URL_HOST"
2025-03-31T20:30:02.513475347Z         value: "10.13.2.160"
2025-03-31T20:30:02.513475347Z       - name: "NODE_host_10_13_2_160_IP"
2025-03-31T20:30:02.513475347Z         value: "10.13.2.160"
2025-03-31T20:30:02.513475347Z       - name: "NODE_host_10_13_2_89_ETCD_NAME"
2025-03-31T20:30:02.513475347Z         value: "host-10-13-2-89"
2025-03-31T20:30:02.513475347Z       - name: "NODE_host_10_13_2_89_ETCD_URL_HOST"
2025-03-31T20:30:02.513475347Z         value: "10.13.2.89"
2025-03-31T20:30:02.513475347Z       - name: "NODE_host_10_13_2_89_IP"
2025-03-31T20:30:02.513475347Z         value: "10.13.2.89"
2025-03-31T20:30:02.513475347Z       - name: "ETCD_STATIC_POD_VERSION"
2025-03-31T20:30:02.513475347Z         value: "7"
2025-03-31T20:30:02.513475347Z     resources:
2025-03-31T20:30:02.513475347Z       requests:
2025-03-31T20:30:02.513475347Z         memory: 200Mi
2025-03-31T20:30:02.513475347Z         cpu: 40m
2025-03-31T20:30:02.513475347Z     securityContext:
2025-03-31T20:30:02.513475347Z       privileged: true
2025-03-31T20:30:02.513475347Z     volumeMounts:
2025-03-31T20:30:02.513475347Z       - mountPath: /etc/kubernetes/static-pod-resources
2025-03-31T20:30:02.513475347Z         name: resource-dir
2025-03-31T20:30:02.513475347Z       - mountPath: /etc/kubernetes/static-pod-certs
2025-03-31T20:30:02.513475347Z         name: cert-dir
2025-03-31T20:30:02.513475347Z       - mountPath: /var/lib/etcd/
2025-03-31T20:30:02.513475347Z         name: data-dir
2025-03-31T20:30:02.513475347Z   - name: etcd-readyz
2025-03-31T20:30:02.513475347Z     image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:5026e023193bacae832d74d6dbfa48c13546c406cf0ab58a951528b13dd856f3
2025-03-31T20:30:02.513475347Z     imagePullPolicy: IfNotPresent
2025-03-31T20:30:02.513475347Z     terminationMessagePolicy: FallbackToLogsOnError
2025-03-31T20:30:02.513475347Z     command:
2025-03-31T20:30:02.513475347Z       - /bin/sh
2025-03-31T20:30:02.513475347Z       - -c
2025-03-31T20:30:02.513475347Z       - |
2025-03-31T20:30:02.513475347Z         #!/bin/sh
2025-03-31T20:30:02.513475347Z         set -euo pipefail
2025-03-31T20:30:02.513475347Z         
2025-03-31T20:30:02.513475347Z         exec nice -n -18 cluster-etcd-operator readyz \
2025-03-31T20:30:02.513475347Z           --target=https://localhost:2379 \
2025-03-31T20:30:02.513475347Z           --listen-port=9980 \
2025-03-31T20:30:02.513475347Z           --serving-cert-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-host-10-13-0-150.crt \
2025-03-31T20:30:02.513475347Z           --serving-key-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-host-10-13-0-150.key \
2025-03-31T20:30:02.513475347Z           --client-cert-file=$(ETCDCTL_CERT) \
2025-03-31T20:30:02.513475347Z           --client-key-file=$(ETCDCTL_KEY) \
2025-03-31T20:30:02.513475347Z           --client-cacert-file=$(ETCDCTL_CACERT)
2025-03-31T20:30:02.513475347Z     securityContext:
2025-03-31T20:30:02.513475347Z       privileged: true
2025-03-31T20:30:02.513475347Z     ports:
2025-03-31T20:30:02.513475347Z     - containerPort: 9980
2025-03-31T20:30:02.513475347Z       name: readyz
2025-03-31T20:30:02.513475347Z       protocol: TCP
2025-03-31T20:30:02.513475347Z     resources:
2025-03-31T20:30:02.513475347Z       requests:
2025-03-31T20:30:02.513475347Z         memory: 50Mi
2025-03-31T20:30:02.513475347Z         cpu: 10m
2025-03-31T20:30:02.513475347Z     env:
2025-03-31T20:30:02.513475347Z       - name: "ALL_ETCD_ENDPOINTS"
2025-03-31T20:30:02.513475347Z         value: "https://10.13.0.100:2379,https://10.13.0.150:2379,https://10.13.2.160:2379,https://10.13.2.89:2379"
2025-03-31T20:30:02.513475347Z       - name: "ETCDCTL_API"
2025-03-31T20:30:02.513475347Z         value: "3"
2025-03-31T20:30:02.513475347Z       - name: "ETCDCTL_CACERT"
2025-03-31T20:30:02.513475347Z         value: "/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt"
2025-03-31T20:30:02.513475347Z       - name: "ETCDCTL_CERT"
2025-03-31T20:30:02.513475347Z         value: "/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-host-10-13-0-150.crt"
2025-03-31T20:30:02.513475347Z       - name: "ETCDCTL_ENDPOINTS"
2025-03-31T20:30:02.513475347Z         value: "https://10.13.0.150:2379,https://10.13.2.160:2379,https://10.13.2.89:2379"
2025-03-31T20:30:02.513475347Z       - name: "ETCDCTL_KEY"
2025-03-31T20:30:02.513475347Z         value: "/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-host-10-13-0-150.key"
2025-03-31T20:30:02.513475347Z       - name: "ETCD_CIPHER_SUITES"
2025-03-31T20:30:02.513475347Z         value: "TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256"
2025-03-31T20:30:02.513475347Z       - name: "ETCD_DATA_DIR"
2025-03-31T20:30:02.513475347Z         value: "/var/lib/etcd"
2025-03-31T20:30:02.513475347Z       - name: "ETCD_ELECTION_TIMEOUT"
2025-03-31T20:30:02.513475347Z         value: "1000"
2025-03-31T20:30:02.513475347Z       - name: "ETCD_ENABLE_PPROF"
2025-03-31T20:30:02.513475347Z         value: "true"
2025-03-31T20:30:02.513475347Z       - name: "ETCD_EXPERIMENTAL_MAX_LEARNERS"
2025-03-31T20:30:02.513475347Z         value: "3"
2025-03-31T20:30:02.513475347Z       - name: "ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION"
2025-03-31T20:30:02.513475347Z         value: "200ms"
2025-03-31T20:30:02.513475347Z       - name: "ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL"
2025-03-31T20:30:02.513475347Z         value: "5s"
2025-03-31T20:30:02.513475347Z       - name: "ETCD_HEARTBEAT_INTERVAL"
2025-03-31T20:30:02.513475347Z         value: "100"
2025-03-31T20:30:02.513475347Z       - name: "ETCD_IMAGE"
2025-03-31T20:30:02.513475347Z         value: "quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:4dc1007b5a77f225b626a2f3ea2587fb33772e8bd02cb680c34040065dd21a73"
2025-03-31T20:30:02.513475347Z       - name: "ETCD_INITIAL_CLUSTER_STATE"
2025-03-31T20:30:02.513475347Z         value: "existing"
2025-03-31T20:30:02.513475347Z       - name: "ETCD_QUOTA_BACKEND_BYTES"
2025-03-31T20:30:02.513475347Z         value: "8589934592"
2025-03-31T20:30:02.513475347Z       - name: "ETCD_SOCKET_REUSE_ADDRESS"
2025-03-31T20:30:02.513475347Z         value: "true"
2025-03-31T20:30:02.513475347Z       - name: "NODE_host_10_13_0_150_ETCD_NAME"
2025-03-31T20:30:02.513475347Z         value: "host-10-13-0-150"
2025-03-31T20:30:02.513475347Z       - name: "NODE_host_10_13_0_150_ETCD_URL_HOST"
2025-03-31T20:30:02.513475347Z         value: "10.13.0.150"
2025-03-31T20:30:02.513475347Z       - name: "NODE_host_10_13_0_150_IP"
2025-03-31T20:30:02.513475347Z         value: "10.13.0.150"
2025-03-31T20:30:02.513475347Z       - name: "NODE_host_10_13_2_160_ETCD_NAME"
2025-03-31T20:30:02.513475347Z         value: "host-10-13-2-160"
2025-03-31T20:30:02.513475347Z       - name: "NODE_host_10_13_2_160_ETCD_URL_HOST"
2025-03-31T20:30:02.513475347Z         value: "10.13.2.160"
2025-03-31T20:30:02.513475347Z       - name: "NODE_host_10_13_2_160_IP"
2025-03-31T20:30:02.513475347Z         value: "10.13.2.160"
2025-03-31T20:30:02.513475347Z       - name: "NODE_host_10_13_2_89_ETCD_NAME"
2025-03-31T20:30:02.513475347Z         value: "host-10-13-2-89"
2025-03-31T20:30:02.513475347Z       - name: "NODE_host_10_13_2_89_ETCD_URL_HOST"
2025-03-31T20:30:02.513475347Z         value: "10.13.2.89"
2025-03-31T20:30:02.513475347Z       - name: "NODE_host_10_13_2_89_IP"
2025-03-31T20:30:02.513475347Z         value: "10.13.2.89"
2025-03-31T20:30:02.513475347Z     volumeMounts:
2025-03-31T20:30:02.513475347Z       - mountPath: /var/log/etcd/
2025-03-31T20:30:02.513530725Z         name: log-dir
2025-03-31T20:30:02.513530725Z       - mountPath: /etc/kubernetes/static-pod-certs
2025-03-31T20:30:02.513530725Z         name: cert-dir
2025-03-31T20:30:02.513530725Z   hostNetwork: true
2025-03-31T20:30:02.513530725Z   priorityClassName: system-node-critical
2025-03-31T20:30:02.513530725Z   tolerations:
2025-03-31T20:30:02.513530725Z   - operator: "Exists"
2025-03-31T20:30:02.513530725Z   volumes:
2025-03-31T20:30:02.513530725Z     - hostPath:
2025-03-31T20:30:02.513530725Z         path: /etc/kubernetes/manifests
2025-03-31T20:30:02.513530725Z       name: static-pod-dir
2025-03-31T20:30:02.513530725Z     - hostPath:
2025-03-31T20:30:02.513530725Z         path: /etc/kubernetes/static-pod-resources/etcd-pod-7
2025-03-31T20:30:02.513530725Z       name: resource-dir
2025-03-31T20:30:02.513530725Z     - hostPath:
2025-03-31T20:30:02.513530725Z         path: /etc/kubernetes/static-pod-resources/etcd-certs
2025-03-31T20:30:02.513530725Z       name: cert-dir
2025-03-31T20:30:02.513530725Z     - hostPath:
2025-03-31T20:30:02.513530725Z         path: /var/lib/etcd
2025-03-31T20:30:02.513530725Z         type: ""
2025-03-31T20:30:02.513530725Z       name: data-dir
2025-03-31T20:30:02.513530725Z     - hostPath:
2025-03-31T20:30:02.513530725Z         path: /usr/local/bin
2025-03-31T20:30:02.513530725Z       name: usr-local-bin
2025-03-31T20:30:02.513530725Z     - hostPath:
2025-03-31T20:30:02.513530725Z         path: /var/log/etcd
2025-03-31T20:30:02.513530725Z       name: log-dir
2025-03-31T20:30:02.522968335Z I0331 20:30:02.522934       1 cmd.go:607] Writing pod manifest "/etc/kubernetes/static-pod-resources/etcd-pod-7/etcd-pod.yaml" ...
2025-03-31T20:30:02.523367298Z I0331 20:30:02.523353       1 cmd.go:614] Removed existing static pod manifest "/etc/kubernetes/manifests/etcd-pod.yaml" ...
2025-03-31T20:30:02.523401917Z I0331 20:30:02.523383       1 cmd.go:618] Writing static pod manifest "/etc/kubernetes/manifests/etcd-pod.yaml" ...
2025-03-31T20:30:02.523401917Z {"kind":"Pod","apiVersion":"v1","metadata":{"name":"etcd","namespace":"openshift-etcd","creationTimestamp":null,"labels":{"app":"etcd","etcd":"true","k8s-app":"etcd","revision":"7"},"annotations":{"kubectl.kubernetes.io/default-container":"etcd","target.workload.openshift.io/management":"{\"effect\": \"PreferredDuringScheduling\"}"}},"spec":{"volumes":[{"name":"static-pod-dir","hostPath":{"path":"/etc/kubernetes/manifests"}},{"name":"resource-dir","hostPath":{"path":"/etc/kubernetes/static-pod-resources/etcd-pod-7"}},{"name":"cert-dir","hostPath":{"path":"/etc/kubernetes/static-pod-resources/etcd-certs"}},{"name":"data-dir","hostPath":{"path":"/var/lib/etcd","type":""}},{"name":"usr-local-bin","hostPath":{"path":"/usr/local/bin"}},{"name":"log-dir","hostPath":{"path":"/var/log/etcd"}}],"initContainers":[{"name":"setup","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:4dc1007b5a77f225b626a2f3ea2587fb33772e8bd02cb680c34040065dd21a73","command":["/bin/sh","-c","#!/bin/sh\necho -n \"Fixing etcd log permissions.\"\nmkdir -p /var/log/etcd \u0026\u0026 chmod 0700 /var/log/etcd\n"],"resources":{"requests":{"cpu":"5m","memory":"50Mi"}},"volumeMounts":[{"name":"log-dir","mountPath":"/var/log/etcd"}],"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}},{"name":"etcd-ensure-env-vars","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:4dc1007b5a77f225b626a2f3ea2587fb33772e8bd02cb680c34040065dd21a73","command":["/bin/sh","-c","#!/bin/sh\nset -euo pipefail\n\n: \"${NODE_host_10_13_0_150_ETCD_URL_HOST?not set}\"\n: \"${NODE_host_10_13_0_150_ETCD_NAME?not set}\"\n: \"${NODE_host_10_13_0_150_IP?not set}\"\n\n# check for ipv4 addresses as well as ipv6 addresses with extra square brackets\nif [[ \"${NODE_host_10_13_0_150_IP}\" != \"${NODE_IP}\" \u0026\u0026 \"${NODE_host_10_13_0_150_IP}\" != \"[${NODE_IP}]\" ]]; then\n  # echo the error message to stderr\n  echo \"Expected node IP to be ${NODE_IP} got ${NODE_host_10_13_0_150_IP}\" \u003e\u00262\n  exit 1\nfi\n\n# check for ipv4 addresses as well as ipv6 addresses with extra square brackets\nif [[ \"${NODE_host_10_13_0_150_ETCD_URL_HOST}\" != \"${NODE_IP}\" \u0026\u0026 \"${NODE_host_10_13_0_150_ETCD_URL_HOST}\" != \"[${NODE_IP}]\" ]]; then\n  # echo the error message to stderr\n  echo \"Expected etcd url host to be ${NODE_IP} got ${NODE_host_10_13_0_150_ETCD_URL_HOST}\" \u003e\u00262\n  exit 1\nfi\n"],"env":[{"name":"ALL_ETCD_ENDPOINTS","value":"https://10.13.0.100:2379,https://10.13.0.150:2379,https://10.13.2.160:2379,https://10.13.2.89:2379"},{"name":"ETCDCTL_API","value":"3"},{"name":"ETCDCTL_CACERT","value":"/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt"},{"name":"ETCDCTL_CERT","value":"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-host-10-13-0-150.crt"},{"name":"ETCDCTL_ENDPOINTS","value":"https://10.13.0.150:2379,https://10.13.2.160:2379,https://10.13.2.89:2379"},{"name":"ETCDCTL_KEY","value":"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-host-10-13-0-150.key"},{"name":"ETCD_CIPHER_SUITES","value":"TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256"},{"name":"ETCD_DATA_DIR","value":"/var/lib/etcd"},{"name":"ETCD_ELECTION_TIMEOUT","value":"1000"},{"name":"ETCD_ENABLE_PPROF","value":"true"},{"name":"ETCD_EXPERIMENTAL_MAX_LEARNERS","value":"3"},{"name":"ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION","value":"200ms"},{"name":"ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL","value":"5s"},{"name":"ETCD_HEARTBEAT_INTERVAL","value":"100"},{"name":"ETCD_IMAGE","value":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:4dc1007b5a77f225b626a2f3ea2587fb33772e8bd02cb680c34040065dd21a73"},{"name":"ETCD_INITIAL_CLUSTER_STATE","value":"existing"},{"name":"ETCD_QUOTA_BACKEND_BYTES","value":"8589934592"},{"name":"ETCD_SOCKET_REUSE_ADDRESS","value":"true"},{"name":"NODE_host_10_13_0_150_ETCD_NAME","value":"host-10-13-0-150"},{"name":"NODE_host_10_13_0_150_ETCD_URL_HOST","value":"10.13.0.150"},{"name":"NODE_host_10_13_0_150_IP","value":"10.13.0.150"},{"name":"NODE_host_10_13_2_160_ETCD_NAME","value":"host-10-13-2-160"},{"name":"NODE_host_10_13_2_160_ETCD_URL_HOST","value":"10.13.2.160"},{"name":"NODE_host_10_13_2_160_IP","value":"10.13.2.160"},{"name":"NODE_host_10_13_2_89_ETCD_NAME","value":"host-10-13-2-89"},{"name":"NODE_host_10_13_2_89_ETCD_URL_HOST","value":"10.13.2.89"},{"name":"NODE_host_10_13_2_89_IP","value":"10.13.2.89"},{"name":"NODE_IP","valueFrom":{"fieldRef":{"fieldPath":"status.podIP"}}}],"resources":{"requests":{"cpu":"10m","memory":"60Mi"}},"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}},{"name":"etcd-resources-copy","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:4dc1007b5a77f225b626a2f3ea2587fb33772e8bd02cb680c34040065dd21a73","command":["/bin/sh","-c","#!/bin/sh\nset -euo pipefail\n\nrm -f $(grep -l '^### Created by cluster-etcd-operator' /usr/local/bin/*)\ncp -p /etc/kubernetes/static-pod-certs/configmaps/etcd-scripts/*.sh /usr/local/bin\n"],"resources":{"requests":{"cpu":"10m","memory":"60Mi"}},"volumeMounts":[{"name":"resource-dir","mountPath":"/etc/kubernetes/static-pod-resources"},{"name":"cert-dir","mountPath":"/etc/kubernetes/static-pod-certs"},{"name":"usr-local-bin","mountPath":"/usr/local/bin"}],"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}}],"containers":[{"name":"etcdctl","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:4dc1007b5a77f225b626a2f3ea2587fb33772e8bd02cb680c34040065dd21a73","command":["/bin/bash","-c","trap TERM INT; sleep infinity \u0026 wait"],"env":[{"name":"ALL_ETCD_ENDPOINTS","value":"https://10.13.0.100:2379,https://10.13.0.150:2379,https://10.13.2.160:2379,https://10.13.2.89:2379"},{"name":"ETCDCTL_API","value":"3"},{"name":"ETCDCTL_CACERT","value":"/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt"},{"name":"ETCDCTL_CERT","value":"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-host-10-13-0-150.crt"},{"name":"ETCDCTL_ENDPOINTS","value":"https://10.13.0.150:2379,https://10.13.2.160:2379,https://10.13.2.89:2379"},{"name":"ETCDCTL_KEY","value":"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-host-10-13-0-150.key"},{"name":"ETCD_CIPHER_SUITES","value":"TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256"},{"name":"ETCD_DATA_DIR","value":"/var/lib/etcd"},{"name":"ETCD_ELECTION_TIMEOUT","value":"1000"},{"name":"ETCD_ENABLE_PPROF","value":"true"},{"name":"ETCD_EXPERIMENTAL_MAX_LEARNERS","value":"3"},{"name":"ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION","value":"200ms"},{"name":"ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL","value":"5s"},{"name":"ETCD_HEARTBEAT_INTERVAL","value":"100"},{"name":"ETCD_IMAGE","value":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:4dc1007b5a77f225b626a2f3ea2587fb33772e8bd02cb680c34040065dd21a73"},{"name":"ETCD_INITIAL_CLUSTER_STATE","value":"existing"},{"name":"ETCD_QUOTA_BACKEND_BYTES","value":"8589934592"},{"name":"ETCD_SOCKET_REUSE_ADDRESS","value":"true"},{"name":"NODE_host_10_13_0_150_ETCD_NAME","value":"host-10-13-0-150"},{"name":"NODE_host_10_13_0_150_ETCD_URL_HOST","value":"10.13.0.150"},{"name":"NODE_host_10_13_0_150_IP","value":"10.13.0.150"},{"name":"NODE_host_10_13_2_160_ETCD_NAME","value":"host-10-13-2-160"},{"name":"NODE_host_10_13_2_160_ETCD_URL_HOST","value":"10.13.2.160"},{"name":"NODE_host_10_13_2_160_IP","value":"10.13.2.160"},{"name":"NODE_host_10_13_2_89_ETCD_NAME","value":"host-10-13-2-89"},{"name":"NODE_host_10_13_2_89_ETCD_URL_HOST","value":"10.13.2.89"},{"name":"NODE_host_10_13_2_89_IP","value":"10.13.2.89"},{"name":"ETCD_STATIC_POD_VERSION","value":"7"}],"resources":{"requests":{"cpu":"10m","memory":"60Mi"}},"volumeMounts":[{"name":"static-pod-dir","mountPath":"/etc/kubernetes/manifests"},{"name":"resource-dir","mountPath":"/etc/kubernetes/static-pod-resources"},{"name":"cert-dir","mountPath":"/etc/kubernetes/static-pod-certs"},{"name":"data-dir","mountPath":"/var/lib/etcd/"}],"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent"},{"name":"etcd","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:4dc1007b5a77f225b626a2f3ea2587fb33772e8bd02cb680c34040065dd21a73","command":["/bin/sh","-c","#!/bin/sh\nset -euo pipefail\n\netcdctl member list || true\n\n# this has a non-zero return code if the command is non-zero.  If you use an export first, it doesn't and you\n# will succeed when you should fail.\nETCD_INITIAL_CLUSTER=$(discover-etcd-initial-cluster \\\n  --cacert=/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt \\\n  --cert=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-host-10-13-0-150.crt \\\n  --key=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-host-10-13-0-150.key \\\n  --endpoints=${ALL_ETCD_ENDPOINTS} \\\n  --data-dir=/var/lib/etcd \\\n  --target-peer-url-host=${NODE_host_10_13_0_150_ETCD_URL_HOST} \\\n  --target-name=host-10-13-0-150)\nexport ETCD_INITIAL_CLUSTER\n\n# we cannot use the \"normal\" port conflict initcontainer because when we upgrade, the existing static pod will never yield,\n# so we do the detection in etcd container itself.\necho -n \"Waiting for ports 2379, 2380 and 9978 to be released.\"\ntime while [ -n \"$(ss -Htan '( sport = 2379 or sport = 2380 or sport = 9978 )')\" ]; do\n  echo -n \".\"\n  sleep 1\ndone\n\nexport ETCD_NAME=${NODE_host_10_13_0_150_ETCD_NAME}\nenv | grep ETCD | grep -v NODE\n\nset -x\n# See https://etcd.io/docs/v3.4.0/tuning/ for why we use ionice\nexec nice -n -19 ionice -c2 -n0 etcd \\\n  --logger=zap \\\n  --log-level=info \\\n  --experimental-initial-corrupt-check=true \\\n  --snapshot-count=10000 \\\n  --initial-advertise-peer-urls=https://${NODE_host_10_13_0_150_IP}:2380 \\\n  --cert-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-host-10-13-0-150.crt \\\n  --key-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-host-10-13-0-150.key \\\n  --trusted-ca-file=/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt \\\n  --client-cert-auth=true \\\n  --peer-cert-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-host-10-13-0-150.crt \\\n  --peer-key-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-host-10-13-0-150.key \\\n  --peer-trusted-ca-file=/etc/kubernetes/static-pod-certs/configmaps/etcd-peer-client-ca/ca-bundle.crt \\\n  --peer-client-cert-auth=true \\\n  --advertise-client-urls=https://${NODE_host_10_13_0_150_IP}:2379 \\\n  --listen-client-urls=https://0.0.0.0:2379,unixs://${NODE_host_10_13_0_150_IP}:0 \\\n  --listen-peer-urls=https://0.0.0.0:2380 \\\n  --metrics=extensive \\\n  --listen-metrics-urls=https://0.0.0.0:9978 ||  mv /etc/kubernetes/etcd-backup-dir/etcd-member.yaml /etc/kubernetes/manifests\n"],"env":[{"name":"ALL_ETCD_ENDPOINTS","value":"https://10.13.0.100:2379,https://10.13.0.150:2379,https://10.13.2.160:2379,https://10.13.2.89:2379"},{"name":"ETCDCTL_API","value":"3"},{"name":"ETCDCTL_CACERT","value":"/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt"},{"name":"ETCDCTL_CERT","value":"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-host-10-13-0-150.crt"},{"name":"ETCDCTL_ENDPOINTS","value":"https://10.13.0.150:2379,https://10.13.2.160:2379,https://10.13.2.89:2379"},{"name":"ETCDCTL_KEY","value":"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-host-10-13-0-150.key"},{"name":"ETCD_CIPHER_SUITES","value":"TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256"},{"name":"ETCD_DATA_DIR","value":"/var/lib/etcd"},{"name":"ETCD_ELECTION_TIMEOUT","value":"1000"},{"name":"ETCD_ENABLE_PPROF","value":"true"},{"name":"ETCD_EXPERIMENTAL_MAX_LEARNERS","value":"3"},{"name":"ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION","value":"200ms"},{"name":"ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL","value":"5s"},{"name":"ETCD_HEARTBEAT_INTERVAL","value":"100"},{"name":"ETCD_IMAGE","value":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:4dc1007b5a77f225b626a2f3ea2587fb33772e8bd02cb680c34040065dd21a73"},{"name":"ETCD_INITIAL_CLUSTER_STATE","value":"existing"},{"name":"ETCD_QUOTA_BACKEND_BYTES","value":"8589934592"},{"name":"ETCD_SOCKET_REUSE_ADDRESS","value":"true"},{"name":"NODE_host_10_13_0_150_ETCD_NAME","value":"host-10-13-0-150"},{"name":"NODE_host_10_13_0_150_ETCD_URL_HOST","value":"10.13.0.150"},{"name":"NODE_host_10_13_0_150_IP","value":"10.13.0.150"},{"name":"NODE_host_10_13_2_160_ETCD_NAME","value":"host-10-13-2-160"},{"name":"NODE_host_10_13_2_160_ETCD_URL_HOST","value":"10.13.2.160"},{"name":"NODE_host_10_13_2_160_IP","value":"10.13.2.160"},{"name":"NODE_host_10_13_2_89_ETCD_NAME","value":"host-10-13-2-89"},{"name":"NODE_host_10_13_2_89_ETCD_URL_HOST","value":"10.13.2.89"},{"name":"NODE_host_10_13_2_89_IP","value":"10.13.2.89"},{"name":"ETCD_STATIC_POD_VERSION","value":"7"}],"resources":{"requests":{"cpu":"300m","memory":"600Mi"}},"volumeMounts":[{"name":"static-pod-dir","mountPath":"/etc/kubernetes/manifests"},{"name":"resource-dir","mountPath":"/etc/kubernetes/static-pod-resources"},{"name":"cert-dir","mountPath":"/etc/kubernetes/static-pod-certs"},{"name":"data-dir","mountPath":"/var/lib/etcd/"}],"livenessProbe":{"httpGet":{"path":"healthz","port":9980,"scheme":"HTTPS"},"timeoutSeconds":30,"periodSeconds":5,"successThreshold":1,"failureThreshold":5},"readinessProbe":{"httpGet":{"path":"readyz","port":9980,"scheme":"HTTPS"},"timeoutSeconds":30,"periodSeconds":5,"successThreshold":1,"failureThreshold":5},"startupProbe":{"httpGet":{"path":"readyz","port":9980,"scheme":"HTTPS"},"initialDelaySeconds":10,"timeoutSeconds":1,"periodSeconds":10,"successThreshold":1,"failureThreshold":18},"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}},{"name":"etcd-metrics","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:4dc1007b5a77f225b626a2f3ea2587fb33772e8bd02cb680c34040065dd21a73","command":["/bin/sh","-c","#!/bin/sh\nset -euo pipefail\n\nexport ETCD_NAME=${NODE_host_10_13_0_150_ETCD_NAME}\n\nexec nice -n -18 etcd grpc-proxy start \\\n  --endpoints https://${NODE_host_10_13_0_150_ETCD_URL_HOST}:9978 \\\n  --metrics-addr https://0.0.0.0:9979 \\\n  --listen-addr 127.0.0.1:9977 \\\n  --advertise-client-url \"\"  \\\n  --key /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-host-10-13-0-150.key \\\n  --key-file /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-metrics-host-10-13-0-150.key \\\n  --cert /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-host-10-13-0-150.crt \\\n  --cert-file /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-metrics-host-10-13-0-150.crt \\\n  --cacert /etc/kubernetes/static-pod-certs/configmaps/etcd-peer-client-ca/ca-bundle.crt \\\n  --trusted-ca-file /etc/kubernetes/static-pod-certs/configmaps/etcd-metrics-proxy-serving-ca/ca-bundle.crt \\\n  --listen-cipher-suites TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_AES_128_GCM_SHA256,TLS_AES_256_GCM_SHA384,TLS_CHACHA20_POLY1305_SHA256\n"],"env":[{"name":"ALL_ETCD_ENDPOINTS","value":"https://10.13.0.100:2379,https://10.13.0.150:2379,https://10.13.2.160:2379,https://10.13.2.89:2379"},{"name":"ETCDCTL_API","value":"3"},{"name":"ETCDCTL_CACERT","value":"/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt"},{"name":"ETCDCTL_CERT","value":"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-host-10-13-0-150.crt"},{"name":"ETCDCTL_ENDPOINTS","value":"https://10.13.0.150:2379,https://10.13.2.160:2379,https://10.13.2.89:2379"},{"name":"ETCDCTL_KEY","value":"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-host-10-13-0-150.key"},{"name":"ETCD_CIPHER_SUITES","value":"TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256"},{"name":"ETCD_DATA_DIR","value":"/var/lib/etcd"},{"name":"ETCD_ELECTION_TIMEOUT","value":"1000"},{"name":"ETCD_ENABLE_PPROF","value":"true"},{"name":"ETCD_EXPERIMENTAL_MAX_LEARNERS","value":"3"},{"name":"ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION","value":"200ms"},{"name":"ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL","value":"5s"},{"name":"ETCD_HEARTBEAT_INTERVAL","value":"100"},{"name":"ETCD_IMAGE","value":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:4dc1007b5a77f225b626a2f3ea2587fb33772e8bd02cb680c34040065dd21a73"},{"name":"ETCD_INITIAL_CLUSTER_STATE","value":"existing"},{"name":"ETCD_QUOTA_BACKEND_BYTES","value":"8589934592"},{"name":"ETCD_SOCKET_REUSE_ADDRESS","value":"true"},{"name":"NODE_host_10_13_0_150_ETCD_NAME","value":"host-10-13-0-150"},{"name":"NODE_host_10_13_0_150_ETCD_URL_HOST","value":"10.13.0.150"},{"name":"NODE_host_10_13_0_150_IP","value":"10.13.0.150"},{"name":"NODE_host_10_13_2_160_ETCD_NAME","value":"host-10-13-2-160"},{"name":"NODE_host_10_13_2_160_ETCD_URL_HOST","value":"10.13.2.160"},{"name":"NODE_host_10_13_2_160_IP","value":"10.13.2.160"},{"name":"NODE_host_10_13_2_89_ETCD_NAME","value":"host-10-13-2-89"},{"name":"NODE_host_10_13_2_89_ETCD_URL_HOST","value":"10.13.2.89"},{"name":"NODE_host_10_13_2_89_IP","value":"10.13.2.89"},{"name":"ETCD_STATIC_POD_VERSION","value":"7"}],"resources":{"requests":{"cpu":"40m","memory":"200Mi"}},"volumeMounts":[{"name":"resource-dir","mountPath":"/etc/kubernetes/static-pod-resources"},{"name":"cert-dir","mountPath":"/etc/kubernetes/static-pod-certs"},{"name":"data-dir","mountPath":"/var/lib/etcd/"}],"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}},{"name":"etcd-readyz","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:5026e023193bacae832d74d6dbfa48c13546c406cf0ab58a951528b13dd856f3","command":["/bin/sh","-c","#!/bin/sh\nset -euo pipefail\n\nexec nice -n -18 cluster-etcd-operator readyz \\\n  --target=https://localhost:2379 \\\n  --listen-port=9980 \\\n  --serving-cert-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-host-10-13-0-150.crt \\\n  --serving-key-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-host-10-13-0-150.key \\\n  --client-cert-file=$(ETCDCTL_CERT) \\\n  --client-key-file=$(ETCDCTL_KEY) \\\n  --client-cacert-file=$(ETCDCTL_CACERT)\n"],"ports":[{"name":"readyz","containerPort":9980,"protocol":"TCP"}],"env":[{"name":"ALL_ETCD_ENDPOINTS","value":"https://10.13.0.100:2379,https://10.13.0.150:2379,https://10.13.2.160:2379,https://10.13.2.89:2379"},{"name":"ETCDCTL_API","value":"3"},{"name":"ETCDCTL_CACERT","value":"/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt"},{"name":"ETCDCTL_CERT","value":"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-host-10-13-0-150.crt"},{"name":"ETCDCTL_ENDPOINTS","value":"https://10.13.0.150:2379,https://10.13.2.160:2379,https://10.13.2.89:2379"},{"name":"ETCDCTL_KEY","value":"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-host-10-13-0-150.key"},{"name":"ETCD_CIPHER_SUITES","value":"TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256"},{"name":"ETCD_DATA_DIR","value":"/var/lib/etcd"},{"name":"ETCD_ELECTION_TIMEOUT","value":"1000"},{"name":"ETCD_ENABLE_PPROF","value":"true"},{"name":"ETCD_EXPERIMENTAL_MAX_LEARNERS","value":"3"},{"name":"ETCD_EXPERIMENTAL_WARNING_APPLY_DURATION","value":"200ms"},{"name":"ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL","value":"5s"},{"name":"ETCD_HEARTBEAT_INTERVAL","value":"100"},{"name":"ETCD_IMAGE","value":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:4dc1007b5a77f225b626a2f3ea2587fb33772e8bd02cb680c34040065dd21a73"},{"name":"ETCD_INITIAL_CLUSTER_STATE","value":"existing"},{"name":"ETCD_QUOTA_BACKEND_BYTES","value":"8589934592"},{"name":"ETCD_SOCKET_REUSE_ADDRESS","value":"true"},{"name":"NODE_host_10_13_0_150_ETCD_NAME","value":"host-10-13-0-150"},{"name":"NODE_host_10_13_0_150_ETCD_URL_HOST","value":"10.13.0.150"},{"name":"NODE_host_10_13_0_150_IP","value":"10.13.0.150"},{"name":"NODE_host_10_13_2_160_ETCD_NAME","value":"host-10-13-2-160"},{"name":"NODE_host_10_13_2_160_ETCD_URL_HOST","value":"10.13.2.160"},{"name":"NODE_host_10_13_2_160_IP","value":"10.13.2.160"},{"name":"NODE_host_10_13_2_89_ETCD_NAME","value":"host-10-13-2-89"},{"name":"NODE_host_10_13_2_89_ETCD_URL_HOST","value":"10.13.2.89"},{"name":"NODE_host_10_13_2_89_IP","value":"10.13.2.89"}],"resources":{"requests":{"cpu":"10m","memory":"50Mi"}},"volumeMounts":[{"name":"log-dir","mountPath":"/var/log/etcd/"},{"name":"cert-dir","mountPath":"/etc/kubernetes/static-pod-certs"}],"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}}],"hostNetwork":true,"tolerations":[{"operator":"Exists"}],"priorityClassName":"system-node-critical"},"status":{}}
2025-03-31T20:30:16.711119319Z W0331 20:30:16.710826       1 recorder.go:205] Error creating event &Event{ObjectMeta:{installer-7-host-10-13-0-150.1831fd44c2004a53  openshift-etcd    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},InvolvedObject:ObjectReference{Kind:Pod,Namespace:openshift-etcd,Name:installer-7-host-10-13-0-150,UID:e9037cdc-c1e3-40f8-bc20-1aa831cfb837,APIVersion:v1,ResourceVersion:,FieldPath:,},Reason:StaticPodInstallerCompleted,Message:Successfully installed revision 7,Source:EventSource{Component:static-pod-installer,Host:,},FirstTimestamp:2025-03-31 20:30:02.523494995 +0000 UTC m=+51.817098740,LastTimestamp:2025-03-31 20:30:02.523494995 +0000 UTC m=+51.817098740,Count:1,Type:Normal,EventTime:0001-01-01 00:00:00 +0000 UTC,Series:nil,Action:,Related:nil,ReportingController:,ReportingInstance:,}: Post "https://172.30.0.1:443/api/v1/namespaces/openshift-etcd/events?timeout=14s": net/http: request canceled (Client.Timeout exceeded while awaiting headers)
