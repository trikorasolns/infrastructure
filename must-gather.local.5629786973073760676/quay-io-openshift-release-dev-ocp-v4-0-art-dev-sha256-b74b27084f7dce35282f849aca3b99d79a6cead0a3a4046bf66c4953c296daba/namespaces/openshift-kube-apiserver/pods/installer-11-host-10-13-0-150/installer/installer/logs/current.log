2025-04-01T12:56:18.381459908Z I0401 12:56:18.381212       1 cmd.go:92] &{<nil> true {false} installer true map[cert-configmaps:0xc0009e7720 cert-dir:0xc0009e7900 cert-secrets:0xc0009e7680 configmaps:0xc0009e7220 namespace:0xc0009e7040 optional-cert-configmaps:0xc0009e7860 optional-cert-secrets:0xc0009e77c0 optional-configmaps:0xc0009e7360 optional-secrets:0xc0009e72c0 pod:0xc0009e70e0 pod-manifest-dir:0xc0009e74a0 resource-dir:0xc0009e7400 revision:0xc0009e6fa0 secrets:0xc0009e7180 v:0xc0009f4d20] [0xc0009f4d20 0xc0009e6fa0 0xc0009e7040 0xc0009e70e0 0xc0009e7400 0xc0009e74a0 0xc0009e7220 0xc0009e7360 0xc0009e7180 0xc0009e72c0 0xc0009e7900 0xc0009e7720 0xc0009e7860 0xc0009e7680 0xc0009e77c0] [] map[cert-configmaps:0xc0009e7720 cert-dir:0xc0009e7900 cert-secrets:0xc0009e7680 configmaps:0xc0009e7220 help:0xc0009f50e0 kubeconfig:0xc0009e6f00 log-flush-frequency:0xc0009f4c80 namespace:0xc0009e7040 optional-cert-configmaps:0xc0009e7860 optional-cert-secrets:0xc0009e77c0 optional-configmaps:0xc0009e7360 optional-secrets:0xc0009e72c0 pod:0xc0009e70e0 pod-manifest-dir:0xc0009e74a0 pod-manifests-lock-file:0xc0009e75e0 resource-dir:0xc0009e7400 revision:0xc0009e6fa0 secrets:0xc0009e7180 timeout-duration:0xc0009e7540 v:0xc0009f4d20 vmodule:0xc0009f4dc0] [0xc0009e6f00 0xc0009e6fa0 0xc0009e7040 0xc0009e70e0 0xc0009e7180 0xc0009e7220 0xc0009e72c0 0xc0009e7360 0xc0009e7400 0xc0009e74a0 0xc0009e7540 0xc0009e75e0 0xc0009e7680 0xc0009e7720 0xc0009e77c0 0xc0009e7860 0xc0009e7900 0xc0009f4c80 0xc0009f4d20 0xc0009f4dc0 0xc0009f50e0] [0xc0009e7720 0xc0009e7900 0xc0009e7680 0xc0009e7220 0xc0009f50e0 0xc0009e6f00 0xc0009f4c80 0xc0009e7040 0xc0009e7860 0xc0009e77c0 0xc0009e7360 0xc0009e72c0 0xc0009e70e0 0xc0009e74a0 0xc0009e75e0 0xc0009e7400 0xc0009e6fa0 0xc0009e7180 0xc0009e7540 0xc0009f4d20 0xc0009f4dc0] map[104:0xc0009f50e0 118:0xc0009f4d20] [] -1 0 0xc0009d10e0 true 0xa7f080 []}
2025-04-01T12:56:18.381630445Z I0401 12:56:18.381525       1 cmd.go:93] (*installerpod.InstallOptions)(0xc000271380)({
2025-04-01T12:56:18.381630445Z  KubeConfig: (string) "",
2025-04-01T12:56:18.381630445Z  KubeClient: (kubernetes.Interface) <nil>,
2025-04-01T12:56:18.381630445Z  Revision: (string) (len=2) "11",
2025-04-01T12:56:18.381630445Z  NodeName: (string) "",
2025-04-01T12:56:18.381630445Z  Namespace: (string) (len=24) "openshift-kube-apiserver",
2025-04-01T12:56:18.381630445Z  PodConfigMapNamePrefix: (string) (len=18) "kube-apiserver-pod",
2025-04-01T12:56:18.381630445Z  SecretNamePrefixes: ([]string) (len=3 cap=4) {
2025-04-01T12:56:18.381630445Z   (string) (len=11) "etcd-client",
2025-04-01T12:56:18.381630445Z   (string) (len=34) "localhost-recovery-serving-certkey",
2025-04-01T12:56:18.381630445Z   (string) (len=31) "localhost-recovery-client-token"
2025-04-01T12:56:18.381630445Z  },
2025-04-01T12:56:18.381630445Z  OptionalSecretNamePrefixes: ([]string) (len=2 cap=2) {
2025-04-01T12:56:18.381630445Z   (string) (len=17) "encryption-config",
2025-04-01T12:56:18.381630445Z   (string) (len=21) "webhook-authenticator"
2025-04-01T12:56:18.381630445Z  },
2025-04-01T12:56:18.381630445Z  ConfigMapNamePrefixes: ([]string) (len=8 cap=8) {
2025-04-01T12:56:18.381630445Z   (string) (len=18) "kube-apiserver-pod",
2025-04-01T12:56:18.381630445Z   (string) (len=6) "config",
2025-04-01T12:56:18.381630445Z   (string) (len=37) "kube-apiserver-cert-syncer-kubeconfig",
2025-04-01T12:56:18.381630445Z   (string) (len=28) "bound-sa-token-signing-certs",
2025-04-01T12:56:18.381630445Z   (string) (len=15) "etcd-serving-ca",
2025-04-01T12:56:18.381630445Z   (string) (len=18) "kubelet-serving-ca",
2025-04-01T12:56:18.381630445Z   (string) (len=22) "sa-token-signing-certs",
2025-04-01T12:56:18.381630445Z   (string) (len=29) "kube-apiserver-audit-policies"
2025-04-01T12:56:18.381630445Z  },
2025-04-01T12:56:18.381630445Z  OptionalConfigMapNamePrefixes: ([]string) (len=3 cap=4) {
2025-04-01T12:56:18.381630445Z   (string) (len=14) "oauth-metadata",
2025-04-01T12:56:18.381630445Z   (string) (len=12) "cloud-config",
2025-04-01T12:56:18.381630445Z   (string) (len=24) "kube-apiserver-server-ca"
2025-04-01T12:56:18.381630445Z  },
2025-04-01T12:56:18.381630445Z  CertSecretNames: ([]string) (len=10 cap=16) {
2025-04-01T12:56:18.381630445Z   (string) (len=17) "aggregator-client",
2025-04-01T12:56:18.381630445Z   (string) (len=30) "localhost-serving-cert-certkey",
2025-04-01T12:56:18.381630445Z   (string) (len=31) "service-network-serving-certkey",
2025-04-01T12:56:18.381630445Z   (string) (len=37) "external-loadbalancer-serving-certkey",
2025-04-01T12:56:18.381630445Z   (string) (len=37) "internal-loadbalancer-serving-certkey",
2025-04-01T12:56:18.381630445Z   (string) (len=33) "bound-service-account-signing-key",
2025-04-01T12:56:18.381630445Z   (string) (len=40) "control-plane-node-admin-client-cert-key",
2025-04-01T12:56:18.381630445Z   (string) (len=31) "check-endpoints-client-cert-key",
2025-04-01T12:56:18.381630445Z   (string) (len=14) "kubelet-client",
2025-04-01T12:56:18.381630445Z   (string) (len=16) "node-kubeconfigs"
2025-04-01T12:56:18.381630445Z  },
2025-04-01T12:56:18.381630445Z  OptionalCertSecretNamePrefixes: ([]string) (len=11 cap=16) {
2025-04-01T12:56:18.381630445Z   (string) (len=17) "user-serving-cert",
2025-04-01T12:56:18.381630445Z   (string) (len=21) "user-serving-cert-000",
2025-04-01T12:56:18.381630445Z   (string) (len=21) "user-serving-cert-001",
2025-04-01T12:56:18.381630445Z   (string) (len=21) "user-serving-cert-002",
2025-04-01T12:56:18.381630445Z   (string) (len=21) "user-serving-cert-003",
2025-04-01T12:56:18.381630445Z   (string) (len=21) "user-serving-cert-004",
2025-04-01T12:56:18.381630445Z   (string) (len=21) "user-serving-cert-005",
2025-04-01T12:56:18.381630445Z   (string) (len=21) "user-serving-cert-006",
2025-04-01T12:56:18.381630445Z   (string) (len=21) "user-serving-cert-007",
2025-04-01T12:56:18.381630445Z   (string) (len=21) "user-serving-cert-008",
2025-04-01T12:56:18.381630445Z   (string) (len=21) "user-serving-cert-009"
2025-04-01T12:56:18.381630445Z  },
2025-04-01T12:56:18.381630445Z  CertConfigMapNamePrefixes: ([]string) (len=4 cap=4) {
2025-04-01T12:56:18.381630445Z   (string) (len=20) "aggregator-client-ca",
2025-04-01T12:56:18.381630445Z   (string) (len=9) "client-ca",
2025-04-01T12:56:18.381630445Z   (string) (len=29) "control-plane-node-kubeconfig",
2025-04-01T12:56:18.381630445Z   (string) (len=26) "check-endpoints-kubeconfig"
2025-04-01T12:56:18.381630445Z  },
2025-04-01T12:56:18.381630445Z  OptionalCertConfigMapNamePrefixes: ([]string) (len=1 cap=1) {
2025-04-01T12:56:18.381630445Z   (string) (len=17) "trusted-ca-bundle"
2025-04-01T12:56:18.381630445Z  },
2025-04-01T12:56:18.381630445Z  CertDir: (string) (len=57) "/etc/kubernetes/static-pod-resources/kube-apiserver-certs",
2025-04-01T12:56:18.381630445Z  ResourceDir: (string) (len=36) "/etc/kubernetes/static-pod-resources",
2025-04-01T12:56:18.381630445Z  PodManifestDir: (string) (len=25) "/etc/kubernetes/manifests",
2025-04-01T12:56:18.381630445Z  Timeout: (time.Duration) 2m0s,
2025-04-01T12:56:18.381630445Z  StaticPodManifestsLockFile: (string) "",
2025-04-01T12:56:18.381630445Z  PodMutationFns: ([]installerpod.PodMutationFunc) <nil>,
2025-04-01T12:56:18.381630445Z  KubeletVersion: (string) ""
2025-04-01T12:56:18.381630445Z })
2025-04-01T12:56:18.382745874Z I0401 12:56:18.382700       1 cmd.go:410] Getting controller reference for node host-10-13-0-150
2025-04-01T12:56:18.399297230Z I0401 12:56:18.399245       1 cmd.go:423] Waiting for installer revisions to settle for node host-10-13-0-150
2025-04-01T12:56:18.409342389Z I0401 12:56:18.409276       1 cmd.go:515] Waiting additional period after revisions have settled for node host-10-13-0-150
2025-04-01T12:56:48.409583421Z I0401 12:56:48.409497       1 cmd.go:521] Getting installer pods for node host-10-13-0-150
2025-04-01T12:56:48.423660384Z I0401 12:56:48.423601       1 cmd.go:539] Latest installer revision for node host-10-13-0-150 is: 11
2025-04-01T12:56:48.423660384Z I0401 12:56:48.423627       1 cmd.go:428] Querying kubelet version for node host-10-13-0-150
2025-04-01T12:56:48.426735685Z I0401 12:56:48.426688       1 cmd.go:441] Got kubelet version 1.28.15+ff493be on target node host-10-13-0-150
2025-04-01T12:56:48.426735685Z I0401 12:56:48.426710       1 cmd.go:290] Creating target resource directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-11" ...
2025-04-01T12:56:48.426980681Z I0401 12:56:48.426952       1 cmd.go:218] Creating target resource directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-11" ...
2025-04-01T12:56:48.427006210Z I0401 12:56:48.426997       1 cmd.go:226] Getting secrets ...
2025-04-01T12:56:48.429413995Z I0401 12:56:48.429369       1 copy.go:32] Got secret openshift-kube-apiserver/etcd-client-11
2025-04-01T12:56:48.433065586Z I0401 12:56:48.433021       1 copy.go:32] Got secret openshift-kube-apiserver/localhost-recovery-client-token-11
2025-04-01T12:56:48.437101799Z I0401 12:56:48.436407       1 copy.go:32] Got secret openshift-kube-apiserver/localhost-recovery-serving-certkey-11
2025-04-01T12:56:48.438126679Z I0401 12:56:48.438093       1 copy.go:24] Failed to get secret openshift-kube-apiserver/encryption-config-11: secrets "encryption-config-11" not found
2025-04-01T12:56:48.440807009Z I0401 12:56:48.440310       1 copy.go:32] Got secret openshift-kube-apiserver/webhook-authenticator-11
2025-04-01T12:56:48.440807009Z I0401 12:56:48.440346       1 cmd.go:239] Getting config maps ...
2025-04-01T12:56:48.444397231Z I0401 12:56:48.444364       1 copy.go:60] Got configMap openshift-kube-apiserver/bound-sa-token-signing-certs-11
2025-04-01T12:56:48.448068032Z I0401 12:56:48.447827       1 copy.go:60] Got configMap openshift-kube-apiserver/config-11
2025-04-01T12:56:48.450973246Z I0401 12:56:48.450924       1 copy.go:60] Got configMap openshift-kube-apiserver/etcd-serving-ca-11
2025-04-01T12:56:48.612947875Z I0401 12:56:48.612904       1 copy.go:60] Got configMap openshift-kube-apiserver/kube-apiserver-audit-policies-11
2025-04-01T12:56:48.813776008Z I0401 12:56:48.813706       1 copy.go:60] Got configMap openshift-kube-apiserver/kube-apiserver-cert-syncer-kubeconfig-11
2025-04-01T12:56:49.013728847Z I0401 12:56:49.013675       1 copy.go:60] Got configMap openshift-kube-apiserver/kube-apiserver-pod-11
2025-04-01T12:56:49.225302715Z I0401 12:56:49.225247       1 copy.go:60] Got configMap openshift-kube-apiserver/kubelet-serving-ca-11
2025-04-01T12:56:49.412189282Z I0401 12:56:49.412131       1 copy.go:60] Got configMap openshift-kube-apiserver/sa-token-signing-certs-11
2025-04-01T12:56:49.612842668Z I0401 12:56:49.612742       1 copy.go:52] Failed to get config map openshift-kube-apiserver/cloud-config-11: configmaps "cloud-config-11" not found
2025-04-01T12:56:49.812727418Z I0401 12:56:49.812677       1 copy.go:60] Got configMap openshift-kube-apiserver/kube-apiserver-server-ca-11
2025-04-01T12:56:50.013484452Z I0401 12:56:50.013430       1 copy.go:60] Got configMap openshift-kube-apiserver/oauth-metadata-11
2025-04-01T12:56:50.013578451Z I0401 12:56:50.013555       1 cmd.go:258] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-11/secrets/etcd-client" ...
2025-04-01T12:56:50.013805076Z I0401 12:56:50.013784       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-11/secrets/etcd-client/tls.crt" ...
2025-04-01T12:56:50.014069271Z I0401 12:56:50.014041       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-11/secrets/etcd-client/tls.key" ...
2025-04-01T12:56:50.014257218Z I0401 12:56:50.014232       1 cmd.go:258] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-11/secrets/localhost-recovery-client-token" ...
2025-04-01T12:56:50.014370525Z I0401 12:56:50.014351       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-11/secrets/localhost-recovery-client-token/ca.crt" ...
2025-04-01T12:56:50.014544602Z I0401 12:56:50.014522       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-11/secrets/localhost-recovery-client-token/namespace" ...
2025-04-01T12:56:50.014707359Z I0401 12:56:50.014686       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-11/secrets/localhost-recovery-client-token/service-ca.crt" ...
2025-04-01T12:56:50.014922555Z I0401 12:56:50.014867       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-11/secrets/localhost-recovery-client-token/token" ...
2025-04-01T12:56:50.015104802Z I0401 12:56:50.015082       1 cmd.go:258] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-11/secrets/localhost-recovery-serving-certkey" ...
2025-04-01T12:56:50.015211649Z I0401 12:56:50.015192       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-11/secrets/localhost-recovery-serving-certkey/tls.crt" ...
2025-04-01T12:56:50.015390636Z I0401 12:56:50.015351       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-11/secrets/localhost-recovery-serving-certkey/tls.key" ...
2025-04-01T12:56:50.015564582Z I0401 12:56:50.015542       1 cmd.go:258] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-11/secrets/webhook-authenticator" ...
2025-04-01T12:56:50.015670171Z I0401 12:56:50.015651       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-11/secrets/webhook-authenticator/kubeConfig" ...
2025-04-01T12:56:50.015835017Z I0401 12:56:50.015814       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-11/configmaps/bound-sa-token-signing-certs" ...
2025-04-01T12:56:50.016021194Z I0401 12:56:50.015998       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-11/configmaps/bound-sa-token-signing-certs/service-account-001.pub" ...
2025-04-01T12:56:50.016197340Z I0401 12:56:50.016176       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-11/configmaps/config" ...
2025-04-01T12:56:50.016305669Z I0401 12:56:50.016286       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-11/configmaps/config/config.yaml" ...
2025-04-01T12:56:50.016485235Z I0401 12:56:50.016464       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-11/configmaps/etcd-serving-ca" ...
2025-04-01T12:56:50.016595144Z I0401 12:56:50.016576       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-11/configmaps/etcd-serving-ca/ca-bundle.crt" ...
2025-04-01T12:56:50.016770810Z I0401 12:56:50.016749       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-11/configmaps/kube-apiserver-audit-policies" ...
2025-04-01T12:56:50.016902498Z I0401 12:56:50.016856       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-11/configmaps/kube-apiserver-audit-policies/policy.yaml" ...
2025-04-01T12:56:50.017093223Z I0401 12:56:50.017070       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-11/configmaps/kube-apiserver-cert-syncer-kubeconfig" ...
2025-04-01T12:56:50.017202272Z I0401 12:56:50.017183       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-11/configmaps/kube-apiserver-cert-syncer-kubeconfig/kubeconfig" ...
2025-04-01T12:56:50.017366308Z I0401 12:56:50.017345       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-11/configmaps/kube-apiserver-pod" ...
2025-04-01T12:56:50.017474467Z I0401 12:56:50.017456       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-11/configmaps/kube-apiserver-pod/version" ...
2025-04-01T12:56:50.017651033Z I0401 12:56:50.017628       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-11/configmaps/kube-apiserver-pod/forceRedeploymentReason" ...
2025-04-01T12:56:50.017854409Z I0401 12:56:50.017830       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-11/configmaps/kube-apiserver-pod/pod.yaml" ...
2025-04-01T12:56:50.018085885Z I0401 12:56:50.018062       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-11/configmaps/kubelet-serving-ca" ...
2025-04-01T12:56:50.018248512Z I0401 12:56:50.018227       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-11/configmaps/kubelet-serving-ca/ca-bundle.crt" ...
2025-04-01T12:56:50.018562826Z I0401 12:56:50.018537       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-11/configmaps/sa-token-signing-certs" ...
2025-04-01T12:56:50.018687374Z I0401 12:56:50.018667       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-11/configmaps/sa-token-signing-certs/service-account-001.pub" ...
2025-04-01T12:56:50.018856060Z I0401 12:56:50.018835       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-11/configmaps/sa-token-signing-certs/service-account-002.pub" ...
2025-04-01T12:56:50.019086426Z I0401 12:56:50.019047       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-11/configmaps/kube-apiserver-server-ca" ...
2025-04-01T12:56:50.019208293Z I0401 12:56:50.019188       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-11/configmaps/kube-apiserver-server-ca/ca-bundle.crt" ...
2025-04-01T12:56:50.019398570Z I0401 12:56:50.019375       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-11/configmaps/oauth-metadata" ...
2025-04-01T12:56:50.019590827Z I0401 12:56:50.019569       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-11/configmaps/oauth-metadata/oauthMetadata" ...
2025-04-01T12:56:50.019821583Z I0401 12:56:50.019795       1 cmd.go:218] Creating target resource directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs" ...
2025-04-01T12:56:50.019915830Z I0401 12:56:50.019859       1 cmd.go:226] Getting secrets ...
2025-04-01T12:56:50.220769462Z I0401 12:56:50.220681       1 copy.go:32] Got secret openshift-kube-apiserver/aggregator-client
2025-04-01T12:56:50.415752755Z I0401 12:56:50.415408       1 copy.go:32] Got secret openshift-kube-apiserver/bound-service-account-signing-key
2025-04-01T12:56:50.612595103Z I0401 12:56:50.612527       1 copy.go:32] Got secret openshift-kube-apiserver/check-endpoints-client-cert-key
2025-04-01T12:56:50.811861146Z I0401 12:56:50.811797       1 copy.go:32] Got secret openshift-kube-apiserver/control-plane-node-admin-client-cert-key
2025-04-01T12:56:51.013135249Z I0401 12:56:51.013101       1 copy.go:32] Got secret openshift-kube-apiserver/external-loadbalancer-serving-certkey
2025-04-01T12:56:51.213772886Z I0401 12:56:51.213702       1 copy.go:32] Got secret openshift-kube-apiserver/internal-loadbalancer-serving-certkey
2025-04-01T12:56:51.413045007Z I0401 12:56:51.412952       1 copy.go:32] Got secret openshift-kube-apiserver/kubelet-client
2025-04-01T12:56:51.612655884Z I0401 12:56:51.612588       1 copy.go:32] Got secret openshift-kube-apiserver/localhost-serving-cert-certkey
2025-04-01T12:56:51.814450897Z I0401 12:56:51.814400       1 copy.go:32] Got secret openshift-kube-apiserver/node-kubeconfigs
2025-04-01T12:56:52.012532293Z I0401 12:56:52.012479       1 copy.go:32] Got secret openshift-kube-apiserver/service-network-serving-certkey
2025-04-01T12:56:52.213912794Z I0401 12:56:52.213792       1 copy.go:24] Failed to get secret openshift-kube-apiserver/user-serving-cert: secrets "user-serving-cert" not found
2025-04-01T12:56:52.413659447Z I0401 12:56:52.413599       1 copy.go:24] Failed to get secret openshift-kube-apiserver/user-serving-cert-000: secrets "user-serving-cert-000" not found
2025-04-01T12:56:52.612297911Z I0401 12:56:52.612240       1 copy.go:24] Failed to get secret openshift-kube-apiserver/user-serving-cert-001: secrets "user-serving-cert-001" not found
2025-04-01T12:56:52.813601295Z I0401 12:56:52.813524       1 copy.go:24] Failed to get secret openshift-kube-apiserver/user-serving-cert-002: secrets "user-serving-cert-002" not found
2025-04-01T12:56:53.014190401Z I0401 12:56:53.012980       1 copy.go:24] Failed to get secret openshift-kube-apiserver/user-serving-cert-003: secrets "user-serving-cert-003" not found
2025-04-01T12:56:53.216717321Z I0401 12:56:53.216644       1 copy.go:24] Failed to get secret openshift-kube-apiserver/user-serving-cert-004: secrets "user-serving-cert-004" not found
2025-04-01T12:56:53.413217546Z I0401 12:56:53.413112       1 copy.go:24] Failed to get secret openshift-kube-apiserver/user-serving-cert-005: secrets "user-serving-cert-005" not found
2025-04-01T12:56:53.612104985Z I0401 12:56:53.611999       1 copy.go:24] Failed to get secret openshift-kube-apiserver/user-serving-cert-006: secrets "user-serving-cert-006" not found
2025-04-01T12:56:53.813646634Z I0401 12:56:53.813567       1 copy.go:24] Failed to get secret openshift-kube-apiserver/user-serving-cert-007: secrets "user-serving-cert-007" not found
2025-04-01T12:56:54.013179131Z I0401 12:56:54.013105       1 copy.go:24] Failed to get secret openshift-kube-apiserver/user-serving-cert-008: secrets "user-serving-cert-008" not found
2025-04-01T12:56:54.212406254Z I0401 12:56:54.212363       1 copy.go:24] Failed to get secret openshift-kube-apiserver/user-serving-cert-009: secrets "user-serving-cert-009" not found
2025-04-01T12:56:54.212406254Z I0401 12:56:54.212380       1 cmd.go:239] Getting config maps ...
2025-04-01T12:56:54.412913842Z I0401 12:56:54.412853       1 copy.go:60] Got configMap openshift-kube-apiserver/aggregator-client-ca
2025-04-01T12:56:54.614425052Z I0401 12:56:54.614365       1 copy.go:60] Got configMap openshift-kube-apiserver/check-endpoints-kubeconfig
2025-04-01T12:56:54.812289561Z I0401 12:56:54.812247       1 copy.go:60] Got configMap openshift-kube-apiserver/client-ca
2025-04-01T12:56:55.013390488Z I0401 12:56:55.013333       1 copy.go:60] Got configMap openshift-kube-apiserver/control-plane-node-kubeconfig
2025-04-01T12:56:55.221737438Z I0401 12:56:55.221683       1 copy.go:60] Got configMap openshift-kube-apiserver/trusted-ca-bundle
2025-04-01T12:56:55.222453665Z I0401 12:56:55.222408       1 cmd.go:258] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/aggregator-client" ...
2025-04-01T12:56:55.222540753Z I0401 12:56:55.222518       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/aggregator-client/tls.crt" ...
2025-04-01T12:56:55.223146591Z I0401 12:56:55.222823       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/aggregator-client/tls.key" ...
2025-04-01T12:56:55.223594083Z I0401 12:56:55.223478       1 cmd.go:258] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/bound-service-account-signing-key" ...
2025-04-01T12:56:55.223683401Z I0401 12:56:55.223663       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/bound-service-account-signing-key/service-account.key" ...
2025-04-01T12:56:55.224085563Z I0401 12:56:55.224054       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/bound-service-account-signing-key/service-account.pub" ...
2025-04-01T12:56:55.224316809Z I0401 12:56:55.224292       1 cmd.go:258] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/check-endpoints-client-cert-key" ...
2025-04-01T12:56:55.224371918Z I0401 12:56:55.224353       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/check-endpoints-client-cert-key/tls.crt" ...
2025-04-01T12:56:55.224562995Z I0401 12:56:55.224534       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/check-endpoints-client-cert-key/tls.key" ...
2025-04-01T12:56:55.224748471Z I0401 12:56:55.224725       1 cmd.go:258] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/control-plane-node-admin-client-cert-key" ...
2025-04-01T12:56:55.224801740Z I0401 12:56:55.224783       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/control-plane-node-admin-client-cert-key/tls.crt" ...
2025-04-01T12:56:55.225078805Z I0401 12:56:55.225049       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/control-plane-node-admin-client-cert-key/tls.key" ...
2025-04-01T12:56:55.225275891Z I0401 12:56:55.225252       1 cmd.go:258] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/external-loadbalancer-serving-certkey" ...
2025-04-01T12:56:55.225329250Z I0401 12:56:55.225311       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/external-loadbalancer-serving-certkey/tls.key" ...
2025-04-01T12:56:55.225541166Z I0401 12:56:55.225517       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/external-loadbalancer-serving-certkey/tls.crt" ...
2025-04-01T12:56:55.225930088Z I0401 12:56:55.225864       1 cmd.go:258] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/internal-loadbalancer-serving-certkey" ...
2025-04-01T12:56:55.225994078Z I0401 12:56:55.225975       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/internal-loadbalancer-serving-certkey/tls.crt" ...
2025-04-01T12:56:55.226310062Z I0401 12:56:55.226265       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/internal-loadbalancer-serving-certkey/tls.key" ...
2025-04-01T12:56:55.226571437Z I0401 12:56:55.226497       1 cmd.go:258] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/kubelet-client" ...
2025-04-01T12:56:55.226645495Z I0401 12:56:55.226610       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/kubelet-client/tls.crt" ...
2025-04-01T12:56:55.226938950Z I0401 12:56:55.226913       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/kubelet-client/tls.key" ...
2025-04-01T12:56:55.227151575Z I0401 12:56:55.227127       1 cmd.go:258] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/localhost-serving-cert-certkey" ...
2025-04-01T12:56:55.227205375Z I0401 12:56:55.227187       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/localhost-serving-cert-certkey/tls.key" ...
2025-04-01T12:56:55.227469460Z I0401 12:56:55.227443       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/localhost-serving-cert-certkey/tls.crt" ...
2025-04-01T12:56:55.227694185Z I0401 12:56:55.227665       1 cmd.go:258] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/node-kubeconfigs" ...
2025-04-01T12:56:55.227752174Z I0401 12:56:55.227731       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/node-kubeconfigs/lb-int.kubeconfig" ...
2025-04-01T12:56:55.228070599Z I0401 12:56:55.228037       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/node-kubeconfigs/localhost-recovery.kubeconfig" ...
2025-04-01T12:56:55.228296334Z I0401 12:56:55.228272       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/node-kubeconfigs/localhost.kubeconfig" ...
2025-04-01T12:56:55.228490730Z I0401 12:56:55.228468       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/node-kubeconfigs/lb-ext.kubeconfig" ...
2025-04-01T12:56:55.228684087Z I0401 12:56:55.228661       1 cmd.go:258] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/service-network-serving-certkey" ...
2025-04-01T12:56:55.228738956Z I0401 12:56:55.228721       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/service-network-serving-certkey/tls.crt" ...
2025-04-01T12:56:55.229000681Z I0401 12:56:55.228973       1 cmd.go:636] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/service-network-serving-certkey/tls.key" ...
2025-04-01T12:56:55.229217946Z I0401 12:56:55.229194       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/configmaps/aggregator-client-ca" ...
2025-04-01T12:56:55.229327695Z I0401 12:56:55.229307       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/configmaps/aggregator-client-ca/ca-bundle.crt" ...
2025-04-01T12:56:55.280525743Z I0401 12:56:55.229527       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/configmaps/check-endpoints-kubeconfig" ...
2025-04-01T12:56:55.280756809Z I0401 12:56:55.280696       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/configmaps/check-endpoints-kubeconfig/kubeconfig" ...
2025-04-01T12:56:55.281133832Z I0401 12:56:55.281103       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/configmaps/client-ca" ...
2025-04-01T12:56:55.281202091Z I0401 12:56:55.281182       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/configmaps/client-ca/ca-bundle.crt" ...
2025-04-01T12:56:55.281501476Z I0401 12:56:55.281474       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/configmaps/control-plane-node-kubeconfig" ...
2025-04-01T12:56:55.281562144Z I0401 12:56:55.281543       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/configmaps/control-plane-node-kubeconfig/kubeconfig" ...
2025-04-01T12:56:55.281817629Z I0401 12:56:55.281787       1 cmd.go:274] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/configmaps/trusted-ca-bundle" ...
2025-04-01T12:56:55.282168723Z I0401 12:56:55.282142       1 cmd.go:626] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/configmaps/trusted-ca-bundle/ca-bundle.crt" ...
2025-04-01T12:56:55.282703833Z I0401 12:56:55.282678       1 cmd.go:332] Getting pod configmaps/kube-apiserver-pod-11 -n openshift-kube-apiserver
2025-04-01T12:56:55.412463522Z I0401 12:56:55.412429       1 cmd.go:348] Creating directory for static pod manifest "/etc/kubernetes/manifests" ...
2025-04-01T12:56:55.412564800Z I0401 12:56:55.412550       1 cmd.go:376] Writing a pod under "kube-apiserver-pod.yaml" key 
2025-04-01T12:56:55.412564800Z {"kind":"Pod","apiVersion":"v1","metadata":{"name":"kube-apiserver","namespace":"openshift-kube-apiserver","creationTimestamp":null,"labels":{"apiserver":"true","app":"openshift-kube-apiserver","revision":"11"},"annotations":{"kubectl.kubernetes.io/default-container":"kube-apiserver","target.workload.openshift.io/management":"{\"effect\": \"PreferredDuringScheduling\"}"}},"spec":{"volumes":[{"name":"resource-dir","hostPath":{"path":"/etc/kubernetes/static-pod-resources/kube-apiserver-pod-11"}},{"name":"cert-dir","hostPath":{"path":"/etc/kubernetes/static-pod-resources/kube-apiserver-certs"}},{"name":"audit-dir","hostPath":{"path":"/var/log/kube-apiserver"}}],"initContainers":[{"name":"setup","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:e218805f1f34f8d4fdb6c4b230e792fd70ee947b173d1c16439c893c4c5342ea","command":["/usr/bin/timeout","220","/bin/bash","-ec"],"args":["echo \"Fixing audit permissions ...\"\nchmod 0700 /var/log/kube-apiserver \u0026\u0026 touch /var/log/kube-apiserver/audit.log \u0026\u0026 chmod 0600 /var/log/kube-apiserver/*\n\nLOCK=/var/log/kube-apiserver/.lock\necho \"Acquiring exclusive lock ${LOCK} ...\"\n\n# Waiting for 135s max for old kube-apiserver's watch-termination process to exit and remove the lock.\n# Two cases:\n# 1. if kubelet does not start the old and new in parallel (i.e. works as expected), the flock will always succeed without any time.\n# 2. if kubelet does overlap old and new pods for up to 130s, the flock will wait and immediate return when the old finishes.\n#\n# NOTE: We can increase 135s for a bigger expected overlap. But a higher value means less noise about the broken kubelet behaviour, i.e. we hide a bug.\n# NOTE: Do not tweak these timings without considering the livenessProbe initialDelaySeconds\nexec {LOCK_FD}\u003e${LOCK} \u0026\u0026 flock --verbose -w 135 \"${LOCK_FD}\" || {\n  echo \"$(date -Iseconds -u) kubelet did not terminate old kube-apiserver before new one\" \u003e\u003e /var/log/kube-apiserver/lock.log\n  echo -n \": WARNING: kubelet did not terminate old kube-apiserver before new one.\"\n\n  # We failed to acquire exclusive lock, which means there is old kube-apiserver running in system.\n  # Since we utilize SO_REUSEPORT, we need to make sure the old kube-apiserver stopped listening.\n  #\n  # NOTE: This is a fallback for broken kubelet, if you observe this please report a bug.\n  echo -n \"Waiting for port 6443 to be released due to likely bug in kubelet or CRI-O \"\n  while [ -n \"$(ss -Htan state listening '( sport = 6443 or sport = 6080 )')\" ]; do\n    echo -n \".\"\n    sleep 1\n    (( tries += 1 ))\n    if [[ \"${tries}\" -gt 10 ]]; then\n      echo \"Timed out waiting for port :6443 and :6080 to be released, this is likely a bug in kubelet or CRI-O\"\n      exit 1\n    fi\n  done\n  #  This is to make sure the server has terminated independently from the lock.\n  #  After the port has been freed (requests can be pending and need 60s max).\n  sleep 65\n}\n# We cannot hold the lock from the init container to the main container. We release it here. There is no risk, at this point we know we are safe.\nflock -u \"${LOCK_FD}\"\n"],"resources":{"requests":{"cpu":"5m","memory":"50Mi"}},"volumeMounts":[{"name":"audit-dir","mountPath":"/var/log/kube-apiserver"}],"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}}],"containers":[{"name":"kube-apiserver","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:e218805f1f34f8d4fdb6c4b230e792fd70ee947b173d1c16439c893c4c5342ea","command":["/bin/bash","-ec"],"args":["LOCK=/var/log/kube-apiserver/.lock\n# We should be able to acquire the lock immediatelly. If not, it means the init container has not released it yet and kubelet or CRI-O started container prematurely.\nexec {LOCK_FD}\u003e${LOCK} \u0026\u0026 flock --verbose -w 30 \"${LOCK_FD}\" || {\n  echo \"Failed to acquire lock for kube-apiserver. Please check setup container for details. This is likely kubelet or CRI-O bug.\"\n  exit 1\n}\nif [ -f /etc/kubernetes/static-pod-certs/configmaps/trusted-ca-bundle/ca-bundle.crt ]; then\n  echo \"Copying system trust bundle ...\"\n  cp -f /etc/kubernetes/static-pod-certs/configmaps/trusted-ca-bundle/ca-bundle.crt /etc/pki/ca-trust/extracted/pem/tls-ca-bundle.pem\nfi\n\nexec watch-termination --termination-touch-file=/var/log/kube-apiserver/.terminating --termination-log-file=/var/log/kube-apiserver/termination.log --graceful-termination-duration=135s --kubeconfig=/etc/kubernetes/static-pod-resources/configmaps/kube-apiserver-cert-syncer-kubeconfig/kubeconfig -- hyperkube kube-apiserver --openshift-config=/etc/kubernetes/static-pod-resources/configmaps/config/config.yaml --advertise-address=${HOST_IP}  -v=2 --permit-address-sharing\n"],"ports":[{"containerPort":6443}],"env":[{"name":"POD_NAME","valueFrom":{"fieldRef":{"fieldPath":"metadata.name"}}},{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"fieldPath":"metadata.namespace"}}},{"name":"STATIC_POD_VERSION","value":"11"},{"name":"HOST_IP","valueFrom":{"fieldRef":{"fieldPath":"status.hostIP"}}},{"name":"GOGC","value":"100"}],"resources":{"requests":{"cpu":"265m","memory":"1Gi"}},"volumeMounts":[{"name":"resource-dir","mountPath":"/etc/kubernetes/static-pod-resources"},{"name":"cert-dir","mountPath":"/etc/kubernetes/static-pod-certs"},{"name":"audit-dir","mountPath":"/var/log/kube-apiserver"}],"livenessProbe":{"httpGet":{"path":"livez","port":6443,"scheme":"HTTPS"},"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"httpGet":{"path":"readyz","port":6443,"scheme":"HTTPS"},"timeoutSeconds":10,"periodSeconds":5,"successThreshold":1,"failureThreshold":1},"startupProbe":{"httpGet":{"path":"healthz","port":6443,"scheme":"HTTPS"},"timeoutSeconds":10,"periodSeconds":5,"successThreshold":1,"failureThreshold":30},"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}},{"name":"kube-apiserver-cert-syncer","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:f4a24bd60df1b26f78d0b571c428b59581afd273284f020978735f3772d1a24a","command":["cluster-kube-apiserver-operator","cert-syncer"],"args":["--kubeconfig=/etc/kubernetes/static-pod-resources/configmaps/kube-apiserver-cert-syncer-kubeconfig/kubeconfig","--namespace=$(POD_NAMESPACE)","--destination-dir=/etc/kubernetes/static-pod-certs"],"env":[{"name":"POD_NAME","valueFrom":{"fieldRef":{"fieldPath":"metadata.name"}}},{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"fieldPath":"metadata.namespace"}}}],"resources":{"requests":{"cpu":"5m","memory":"50Mi"}},"volumeMounts":[{"name":"resource-dir","mountPath":"/etc/kubernetes/static-pod-resources"},{"name":"cert-dir","mountPath":"/etc/kubernetes/static-pod-certs"}],"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent"},{"name":"kube-apiserver-cert-regeneration-controller","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:f4a24bd60df1b26f78d0b571c428b59581afd273284f020978735f3772d1a24a","command":["cluster-kube-apiserver-operator","cert-regeneration-controller"],"args":["--kubeconfig=/etc/kubernetes/static-pod-resources/configmaps/kube-apiserver-cert-syncer-kubeconfig/kubeconfig","--namespace=$(POD_NAMESPACE)","-v=2"],"env":[{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"fieldPath":"metadata.namespace"}}}],"resources":{"requests":{"cpu":"5m","memory":"50Mi"}},"volumeMounts":[{"name":"resource-dir","mountPath":"/etc/kubernetes/static-pod-resources"}],"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent"},{"name":"kube-apiserver-insecure-readyz","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:f4a24bd60df1b26f78d0b571c428b59581afd273284f020978735f3772d1a24a","command":["cluster-kube-apiserver-operator","insecure-readyz"],"args":["--insecure-port=6080","--delegate-url=https://localhost:6443/readyz"],"ports":[{"containerPort":6080}],"resources":{"requests":{"cpu":"5m","memory":"50Mi"}},"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent"},{"name":"kube-apiserver-check-endpoints","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:f4a24bd60df1b26f78d0b571c428b59581afd273284f020978735f3772d1a24a","command":["cluster-kube-apiserver-operator","check-endpoints"],"args":["--kubeconfig","/etc/kubernetes/static-pod-certs/configmaps/check-endpoints-kubeconfig/kubeconfig","--listen","0.0.0.0:17697","--namespace","$(POD_NAMESPACE)","--v","2"],"ports":[{"name":"check-endpoints","hostPort":17697,"containerPort":17697,"protocol":"TCP"}],"env":[{"name":"POD_NAME","valueFrom":{"fieldRef":{"fieldPath":"metadata.name"}}},{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"fieldPath":"metadata.namespace"}}}],"resources":{"requests":{"cpu":"10m","memory":"50Mi"}},"volumeMounts":[{"name":"resource-dir","mountPath":"/etc/kubernetes/static-pod-resources"},{"name":"cert-dir","mountPath":"/etc/kubernetes/static-pod-certs"}],"livenessProbe":{"httpGet":{"path":"healthz","port":17697,"scheme":"HTTPS"},"initialDelaySeconds":10,"timeoutSeconds":10},"readinessProbe":{"httpGet":{"path":"healthz","port":17697,"scheme":"HTTPS"},"initialDelaySeconds":10,"timeoutSeconds":10},"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent"}],"terminationGracePeriodSeconds":135,"hostNetwork":true,"tolerations":[{"operator":"Exists"}],"priorityClassName":"system-node-critical"},"status":{}}
2025-04-01T12:56:55.417256171Z I0401 12:56:55.417229       1 cmd.go:607] Writing pod manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-11/kube-apiserver-pod.yaml" ...
2025-04-01T12:56:55.418476128Z I0401 12:56:55.418338       1 cmd.go:614] Removed existing static pod manifest "/etc/kubernetes/manifests/kube-apiserver-pod.yaml" ...
2025-04-01T12:56:55.418476128Z I0401 12:56:55.418357       1 cmd.go:618] Writing static pod manifest "/etc/kubernetes/manifests/kube-apiserver-pod.yaml" ...
2025-04-01T12:56:55.418476128Z {"kind":"Pod","apiVersion":"v1","metadata":{"name":"kube-apiserver","namespace":"openshift-kube-apiserver","creationTimestamp":null,"labels":{"apiserver":"true","app":"openshift-kube-apiserver","revision":"11"},"annotations":{"kubectl.kubernetes.io/default-container":"kube-apiserver","target.workload.openshift.io/management":"{\"effect\": \"PreferredDuringScheduling\"}"}},"spec":{"volumes":[{"name":"resource-dir","hostPath":{"path":"/etc/kubernetes/static-pod-resources/kube-apiserver-pod-11"}},{"name":"cert-dir","hostPath":{"path":"/etc/kubernetes/static-pod-resources/kube-apiserver-certs"}},{"name":"audit-dir","hostPath":{"path":"/var/log/kube-apiserver"}}],"initContainers":[{"name":"setup","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:e218805f1f34f8d4fdb6c4b230e792fd70ee947b173d1c16439c893c4c5342ea","command":["/usr/bin/timeout","220","/bin/bash","-ec"],"args":["echo \"Fixing audit permissions ...\"\nchmod 0700 /var/log/kube-apiserver \u0026\u0026 touch /var/log/kube-apiserver/audit.log \u0026\u0026 chmod 0600 /var/log/kube-apiserver/*\n\nLOCK=/var/log/kube-apiserver/.lock\necho \"Acquiring exclusive lock ${LOCK} ...\"\n\n# Waiting for 135s max for old kube-apiserver's watch-termination process to exit and remove the lock.\n# Two cases:\n# 1. if kubelet does not start the old and new in parallel (i.e. works as expected), the flock will always succeed without any time.\n# 2. if kubelet does overlap old and new pods for up to 130s, the flock will wait and immediate return when the old finishes.\n#\n# NOTE: We can increase 135s for a bigger expected overlap. But a higher value means less noise about the broken kubelet behaviour, i.e. we hide a bug.\n# NOTE: Do not tweak these timings without considering the livenessProbe initialDelaySeconds\nexec {LOCK_FD}\u003e${LOCK} \u0026\u0026 flock --verbose -w 135 \"${LOCK_FD}\" || {\n  echo \"$(date -Iseconds -u) kubelet did not terminate old kube-apiserver before new one\" \u003e\u003e /var/log/kube-apiserver/lock.log\n  echo -n \": WARNING: kubelet did not terminate old kube-apiserver before new one.\"\n\n  # We failed to acquire exclusive lock, which means there is old kube-apiserver running in system.\n  # Since we utilize SO_REUSEPORT, we need to make sure the old kube-apiserver stopped listening.\n  #\n  # NOTE: This is a fallback for broken kubelet, if you observe this please report a bug.\n  echo -n \"Waiting for port 6443 to be released due to likely bug in kubelet or CRI-O \"\n  while [ -n \"$(ss -Htan state listening '( sport = 6443 or sport = 6080 )')\" ]; do\n    echo -n \".\"\n    sleep 1\n    (( tries += 1 ))\n    if [[ \"${tries}\" -gt 10 ]]; then\n      echo \"Timed out waiting for port :6443 and :6080 to be released, this is likely a bug in kubelet or CRI-O\"\n      exit 1\n    fi\n  done\n  #  This is to make sure the server has terminated independently from the lock.\n  #  After the port has been freed (requests can be pending and need 60s max).\n  sleep 65\n}\n# We cannot hold the lock from the init container to the main container. We release it here. There is no risk, at this point we know we are safe.\nflock -u \"${LOCK_FD}\"\n"],"resources":{"requests":{"cpu":"5m","memory":"50Mi"}},"volumeMounts":[{"name":"audit-dir","mountPath":"/var/log/kube-apiserver"}],"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}}],"containers":[{"name":"kube-apiserver","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:e218805f1f34f8d4fdb6c4b230e792fd70ee947b173d1c16439c893c4c5342ea","command":["/bin/bash","-ec"],"args":["LOCK=/var/log/kube-apiserver/.lock\n# We should be able to acquire the lock immediatelly. If not, it means the init container has not released it yet and kubelet or CRI-O started container prematurely.\nexec {LOCK_FD}\u003e${LOCK} \u0026\u0026 flock --verbose -w 30 \"${LOCK_FD}\" || {\n  echo \"Failed to acquire lock for kube-apiserver. Please check setup container for details. This is likely kubelet or CRI-O bug.\"\n  exit 1\n}\nif [ -f /etc/kubernetes/static-pod-certs/configmaps/trusted-ca-bundle/ca-bundle.crt ]; then\n  echo \"Copying system trust bundle ...\"\n  cp -f /etc/kubernetes/static-pod-certs/configmaps/trusted-ca-bundle/ca-bundle.crt /etc/pki/ca-trust/extracted/pem/tls-ca-bundle.pem\nfi\n\nexec watch-termination --termination-touch-file=/var/log/kube-apiserver/.terminating --termination-log-file=/var/log/kube-apiserver/termination.log --graceful-termination-duration=135s --kubeconfig=/etc/kubernetes/static-pod-resources/configmaps/kube-apiserver-cert-syncer-kubeconfig/kubeconfig -- hyperkube kube-apiserver --openshift-config=/etc/kubernetes/static-pod-resources/configmaps/config/config.yaml --advertise-address=${HOST_IP}  -v=2 --permit-address-sharing\n"],"ports":[{"containerPort":6443}],"env":[{"name":"POD_NAME","valueFrom":{"fieldRef":{"fieldPath":"metadata.name"}}},{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"fieldPath":"metadata.namespace"}}},{"name":"STATIC_POD_VERSION","value":"11"},{"name":"HOST_IP","valueFrom":{"fieldRef":{"fieldPath":"status.hostIP"}}},{"name":"GOGC","value":"100"}],"resources":{"requests":{"cpu":"265m","memory":"1Gi"}},"volumeMounts":[{"name":"resource-dir","mountPath":"/etc/kubernetes/static-pod-resources"},{"name":"cert-dir","mountPath":"/etc/kubernetes/static-pod-certs"},{"name":"audit-dir","mountPath":"/var/log/kube-apiserver"}],"livenessProbe":{"httpGet":{"path":"livez","port":6443,"scheme":"HTTPS"},"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"httpGet":{"path":"readyz","port":6443,"scheme":"HTTPS"},"timeoutSeconds":10,"periodSeconds":5,"successThreshold":1,"failureThreshold":1},"startupProbe":{"httpGet":{"path":"healthz","port":6443,"scheme":"HTTPS"},"timeoutSeconds":10,"periodSeconds":5,"successThreshold":1,"failureThreshold":30},"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}},{"name":"kube-apiserver-cert-syncer","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:f4a24bd60df1b26f78d0b571c428b59581afd273284f020978735f3772d1a24a","command":["cluster-kube-apiserver-operator","cert-syncer"],"args":["--kubeconfig=/etc/kubernetes/static-pod-resources/configmaps/kube-apiserver-cert-syncer-kubeconfig/kubeconfig","--namespace=$(POD_NAMESPACE)","--destination-dir=/etc/kubernetes/static-pod-certs"],"env":[{"name":"POD_NAME","valueFrom":{"fieldRef":{"fieldPath":"metadata.name"}}},{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"fieldPath":"metadata.namespace"}}}],"resources":{"requests":{"cpu":"5m","memory":"50Mi"}},"volumeMounts":[{"name":"resource-dir","mountPath":"/etc/kubernetes/static-pod-resources"},{"name":"cert-dir","mountPath":"/etc/kubernetes/static-pod-certs"}],"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent"},{"name":"kube-apiserver-cert-regeneration-controller","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:f4a24bd60df1b26f78d0b571c428b59581afd273284f020978735f3772d1a24a","command":["cluster-kube-apiserver-operator","cert-regeneration-controller"],"args":["--kubeconfig=/etc/kubernetes/static-pod-resources/configmaps/kube-apiserver-cert-syncer-kubeconfig/kubeconfig","--namespace=$(POD_NAMESPACE)","-v=2"],"env":[{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"fieldPath":"metadata.namespace"}}}],"resources":{"requests":{"cpu":"5m","memory":"50Mi"}},"volumeMounts":[{"name":"resource-dir","mountPath":"/etc/kubernetes/static-pod-resources"}],"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent"},{"name":"kube-apiserver-insecure-readyz","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:f4a24bd60df1b26f78d0b571c428b59581afd273284f020978735f3772d1a24a","command":["cluster-kube-apiserver-operator","insecure-readyz"],"args":["--insecure-port=6080","--delegate-url=https://localhost:6443/readyz"],"ports":[{"containerPort":6080}],"resources":{"requests":{"cpu":"5m","memory":"50Mi"}},"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent"},{"name":"kube-apiserver-check-endpoints","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:f4a24bd60df1b26f78d0b571c428b59581afd273284f020978735f3772d1a24a","command":["cluster-kube-apiserver-operator","check-endpoints"],"args":["--kubeconfig","/etc/kubernetes/static-pod-certs/configmaps/check-endpoints-kubeconfig/kubeconfig","--listen","0.0.0.0:17697","--namespace","$(POD_NAMESPACE)","--v","2"],"ports":[{"name":"check-endpoints","hostPort":17697,"containerPort":17697,"protocol":"TCP"}],"env":[{"name":"POD_NAME","valueFrom":{"fieldRef":{"fieldPath":"metadata.name"}}},{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"fieldPath":"metadata.namespace"}}}],"resources":{"requests":{"cpu":"10m","memory":"50Mi"}},"volumeMounts":[{"name":"resource-dir","mountPath":"/etc/kubernetes/static-pod-resources"},{"name":"cert-dir","mountPath":"/etc/kubernetes/static-pod-certs"}],"livenessProbe":{"httpGet":{"path":"healthz","port":17697,"scheme":"HTTPS"},"initialDelaySeconds":10,"timeoutSeconds":10},"readinessProbe":{"httpGet":{"path":"healthz","port":17697,"scheme":"HTTPS"},"initialDelaySeconds":10,"timeoutSeconds":10},"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent"}],"terminationGracePeriodSeconds":135,"hostNetwork":true,"tolerations":[{"operator":"Exists"}],"priorityClassName":"system-node-critical"},"status":{}}
