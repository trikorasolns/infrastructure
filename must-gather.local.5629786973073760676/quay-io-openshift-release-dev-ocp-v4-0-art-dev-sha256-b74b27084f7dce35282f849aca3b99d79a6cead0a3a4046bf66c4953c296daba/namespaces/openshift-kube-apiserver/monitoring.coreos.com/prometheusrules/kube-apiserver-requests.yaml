---
apiVersion: monitoring.coreos.com/v1
kind: PrometheusRule
metadata:
  creationTimestamp: "2025-03-31T20:22:34Z"
  generation: 1
  managedFields:
  - apiVersion: monitoring.coreos.com/v1
    fieldsType: FieldsV1
    fieldsV1:
      f:spec:
        .: {}
        f:groups:
          .: {}
          k:{"name":"apiserver-requests-in-flight"}:
            .: {}
            f:name: {}
            f:rules: {}
    manager: cluster-kube-apiserver-operator
    operation: Update
    time: "2025-03-31T20:22:34Z"
  name: kube-apiserver-requests
  namespace: openshift-kube-apiserver
  resourceVersion: "50905"
  uid: af6d93c0-860e-4d1a-90f9-f1c8baf3a2f5
spec:
  groups:
  - name: apiserver-requests-in-flight
    rules:
    - expr: |
        max_over_time(sum(apiserver_current_inflight_requests{apiserver=~"openshift-apiserver|kube-apiserver"}) by (apiserver,requestKind)[2m:])
      record: cluster:apiserver_current_inflight_requests:sum:max_over_time:2m
