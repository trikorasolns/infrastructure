---
- name: "Cordon and drain node"
  hosts: "localhost"
  gather_facts: true

  pre_tasks:
  - name: "Check variables"
    ansible.builtin.assert:
      that:
      - nodename is defined and nodename | length > 0
      fail_msg:
      - "nodename must be defined with the OpenShift node name."

  tasks:
  - name: "Uncordon the node"
    ansible.builtin.shell: |
      oc adm uncordon {{ nodename }}
    register: oc_adm_uncordon_res

  - name: "Print uncordon result"
    ansible.builtin.debug:
      var: oc_adm_uncordon_res

...
